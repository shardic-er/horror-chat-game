/*! For license information please see main.1b52d064.js.LICENSE.txt */
(()=>{var e={740:e=>{"use strict";e.exports=function(e,t,n,r,a,o,s,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,s,i],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,s){if(s!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,a,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A,D=Object.assign;function F(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var $=!1;function z(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||a[s]!==o[i]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case _:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Se=null;function _e(e){if(e=ba(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=xa(t),Ee(e.stateNode,e.type,t))}}function Ce(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Se;if(Se=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Oe(e,t){return e(t)}function je(){}var Pe=!1;function Le(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Oe(e,t,n)}finally{Pe=!1,(null!==ke||null!==Se)&&(je(),Ne())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(u)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(ue){Ie=!1}function Me(e,t,n,r,a,o,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ae=!1,De=null,Fe=!1,$e=null,ze={onError:function(e){Ae=!0,De=e}};function Be(e,t,n,r,a,o,s,i,l){Ae=!1,De=null,Me.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ve(a),e;if(s===r)return Ve(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Je=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~a;0!==i?r=dt(i):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~a)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,kt,St,_t,Ct=!1,Nt=[],Ot=null,jt=null,Pt=null,Lt=new Map,Rt=new Map,It=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function At(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=va(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void _t(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function $t(e,t,n){Ft(e)&&n.delete(t)}function zt(){Ct=!1,null!==Ot&&Ft(Ot)&&(Ot=null),null!==jt&&Ft(jt)&&(jt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Lt.forEach($t),Rt.forEach($t)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Bt(Ot,e),null!==jt&&Bt(jt,e),null!==Pt&&Bt(Pt,e),Lt.forEach(t),Rt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Dt(n),null===n.blockedOn&&It.shift()}var Ut=w.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var a=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=a,Ut.transition=o}}function qt(e,t,n,r){var a=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=a,Ut.transition=o}}function Qt(e,t,n,r){if(Vt){var a=Gt(e,t,n,r);if(null===a)Vr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ot=At(Ot,e,t,n,r,a),!0;case"dragenter":return jt=At(jt,e,t,n,r,a),!0;case"mouseover":return Pt=At(Pt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Lt.set(o,At(Lt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Rt.set(o,At(Rt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Tt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&xt(o),null===(o=Gt(e,t,n,r))&&Vr(e,t,r,Kt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=va(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=D({},cn,{view:0,detail:0}),fn=an(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),mn=an(D({},pn,{dataTransfer:0})),gn=an(D({},dn,{relatedTarget:0})),yn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(D({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return Sn}var Cn=D({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),On=an(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=an(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Ln),In=[9,13,27,32],Tn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var An=u&&"TextEvent"in window&&!Mn,Dn=u&&(!Tn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),$n=!1;function zn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Qn=null;function Kn(e){Fr(e,0)}function Gn(e){if(Q(wa(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Yn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Qn=qn=null)}function nr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];Hn(t,Qn,e,xe(e)),Le(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function or(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function _r(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=_r("animationend"),Nr=_r("animationiteration"),Or=_r("animationstart"),jr=_r("transitionend"),Pr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Lr.length;Ir++){var Tr=Lr[Ir];Rr(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Nr,"onAnimationIteration"),Rr(Or,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,l,c){if(Be.apply(this,arguments),Ae){if(!Ae)throw Error(o(198));var u=De;Ae=!1,De=null,Fe||(Fe=!0,$e=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Dr(a,i,c),o=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,c=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Dr(a,i,c),o=l}}}if(Fe)throw e=$e,Fe=!1,$e=null,e}function $r(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Xt(t)){case 1:var a=Ht;break;case 4:a=qt;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==i;){if(null===(s=va(i)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}i=i.parentNode}}r=r.return}Le((function(){var r=o,a=xe(n),s=[];e:{var i=Pr.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Cr:case Nr:case Or:l=yn;break;case jr:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==i?i+"Capture":null:i;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Re(h,f))&&u.push(Hr(h,m,p)))),d)break;h=h.return}0<u.length&&(i=new l(i,c,null,n,a),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[ha])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?i:wa(l),p=null==c?i:wa(c),(i=new u(m,h+"leave",l,n,a)).target=d,i.relatedTarget=p,m=null,va(a)===r&&((u=new u(f,h+"enter",c,n,a)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,h=0,p=u=l;p;p=Qr(p))h++;for(p=0,m=f;m;m=Qr(m))p++;for(;0<h-p;)u=Qr(u),h--;for(;0<p-h;)f=Qr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Qr(u),f=Qr(f)}u=null}else u=null;null!==l&&Kr(s,i,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(i=r?wa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Xn;else if(Vn(i))if(Jn)g=sr;else{g=ar;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,a):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?wa(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,a)}var v;if(Tn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(v=en()):(Yt="value"in(Jt=a)?Jt.value:Jt.textContent,Wn=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,a),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=An?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:($n=!0,Fn);case"textInput":return(e=t.data)===Fn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Tn&&zn(e,t)?(e=en(),Zt=Yt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=v))}Fr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Re(e,n))&&r.unshift(Hr(e,o,a)),null!=(o=Re(e,t))&&r.push(Hr(e,o,a))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var o=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Re(n,o))&&s.unshift(Hr(n,l,i)):a||null!=(l=Re(n,o))&&s.push(Hr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Xr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xa(e){return e[pa]||null}var Ea=[],ka=-1;function Sa(e){return{current:e}}function _a(e){0>ka||(e.current=Ea[ka],Ea[ka]=null,ka--)}function Ca(e,t){ka++,Ea[ka]=e.current,e.current=t}var Na={},Oa=Sa(Na),ja=Sa(!1),Pa=Na;function La(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){_a(ja),_a(Oa)}function Ta(e,t,n){if(Oa.current!==Na)throw Error(o(168));Ca(Oa,t),Ca(ja,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,U(e)||"Unknown",a));return D({},n,r)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Pa=Oa.current,Ca(Oa,e),Ca(ja,ja.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,_a(ja),_a(Oa),Ca(Oa,e)):_a(ja),Ca(ja,n)}var Fa=null,$a=!1,za=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function Wa(){if(!za&&null!==Fa){za=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,$a=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Qe(Ze,Wa),a}finally{bt=t,za=!1}}return null}var Ua=[],Va=0,Ha=null,qa=0,Qa=[],Ka=0,Ga=null,Xa=1,Ja="";function Ya(e,t){Ua[Va++]=qa,Ua[Va++]=Ha,Ha=e,qa=t}function Za(e,t,n){Qa[Ka++]=Xa,Qa[Ka++]=Ja,Qa[Ka++]=Ga,Ga=e;var r=Xa;e=Ja;var a=32-st(r)-1;r&=~(1<<a),n+=1;var o=32-st(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Xa=1<<32-st(t)+a|n<<a|r,Ja=o+e}else Xa=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Ya(e,1),Za(e,1,0))}function to(e){for(;e===Ha;)Ha=Ua[--Va],Ua[Va]=null,qa=Ua[--Va],Ua[Va]=null;for(;e===Ga;)Ga=Qa[--Ka],Qa[Ka]=null,Ja=Qa[--Ka],Qa[Ka]=null,Xa=Qa[--Ka],Qa[Ka]=null}var no=null,ro=null,ao=!1,oo=null;function so(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ga?{id:Xa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&io(e,t)?so(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ca(e.nextSibling)}function ho(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&bo(o)===t.type)?((r=a(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Tc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Tc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case E:return n.key===a?u(e,t,n,r):null;case R:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);vo(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case R:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);vo(t,r)}return null}function m(a,o,i,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(a,d,i[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===i.length)return n(a,d),ao&&Ya(a,m),c;if(null===d){for(;m<i.length;m++)null!==(d=f(a,i[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return ao&&Ya(a,m),c}for(d=r(a,d);m<i.length;m++)null!==(g=h(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Ya(a,m),c}function g(a,i,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=i,g=i=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),i=s(b,i,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),ao&&Ya(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(a,v.value,c))&&(i=s(v,i,g),null===d?u=v:d.sibling=v,d=v);return ao&&Ya(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=h(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),i=s(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ya(a,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(o=a(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&bo(c)===u.type){n(r,u.sibling),(o=a(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((o=Mc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Tc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return i(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=a(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return i(r);case R:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(M(s))return g(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,s)).return=r,r=o):(n(r,o),(o=Dc(s,r.mode,l)).return=r,r=o),i(r)):n(r,o)}}var xo=wo(!0),Eo=wo(!1),ko=Sa(null),So=null,_o=null,Co=null;function No(){Co=_o=So=null}function Oo(e){var t=ko.current;_a(ko),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){So=e,Co=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Lo(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===So)throw Error(o(308));_o=e,So.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Ro=null;function Io(e){null===Ro?Ro=[e]:Ro.push(e)}function To(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Mo(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,Mo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var a=e.updateQueue;Ao=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,u=c=l=null,i=o;;){var f=i.lane,p=i.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,m=i;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=D({},d,f);break e;case 2:Ao=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[i]:f.push(i))}else p={eventTime:p,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(f=i).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Al|=s,e.lanes=s,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Ho={},qo=Sa(Ho),Qo=Sa(Ho),Ko=Sa(Ho);function Go(e){if(e===Ho)throw Error(o(174));return e}function Xo(e,t){switch(Ca(Ko,t),Ca(Qo,e),Ca(qo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(qo),Ca(qo,t)}function Jo(){_a(qo),_a(Qo),_a(Ko)}function Yo(e){Go(Ko.current);var t=Go(qo.current),n=le(t,e.type);t!==n&&(Ca(Qo,e),Ca(qo,n))}function Zo(e){Qo.current===e&&(_a(qo),_a(Qo))}var es=Sa(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var as=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,us=!1,ds=!1,fs=0,ps=0;function hs(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,a,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Zs:ei,e=n(r,a),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,as.current=ti,e=n(r,a)}while(ds)}if(as.current=Ys,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,us=!1,t)throw Error(o(300));return e}function ys(){var e=0!==fs;return fs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,i=r):c=c.next=f,is.lanes|=d,Al|=d}u=u.next}while(null!==u&&u!==s);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,is.lanes|=s,Al|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);ir(s,t.memoizedState)||(bi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Ss(e,t){var n=is,r=bs(),a=t(),s=!ir(r.memoizedState,a);if(s&&(r.memoizedState=a,bi=!0),r=r.queue,As(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ls(9,Cs.bind(null,n,r,a,t),void 0,null),null===jl)throw Error(o(349));0!==(30&ss)||_s(n,t,a)}return a}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Os(t)&&js(e)}function Ns(e,t,n){return n((function(){Os(t)&&js(e)}))}function Os(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function js(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Ps(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,is,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return bs().memoizedState}function Is(e,t,n,r){var a=vs();is.flags|=e,a.memoizedState=Ls(1|t,n,void 0,void 0===r?null:r)}function Ts(e,t,n,r){var a=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(a.memoizedState=Ls(t,n,o,r))}is.flags|=e,a.memoizedState=Ls(1|t,n,o,r)}function Ms(e,t){return Is(8390656,8,e,t)}function As(e,t){return Ts(2048,8,e,t)}function Ds(e,t){return Ts(4,2,e,t)}function Fs(e,t){return Ts(4,4,e,t)}function $s(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ts(4,4,$s.bind(null,t,e),n)}function Bs(){}function Ws(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),is.lanes|=n,Al|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function qs(){return bs().memoizedState}function Qs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e))Xs(t,n);else if(null!==(n=To(e,t,n,r))){nc(n,e,r,ec()),Js(n,t,r)}}function Ks(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Xs(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,s)){var l=t.interleaved;return null===l?(a.next=a,Io(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=To(e,t,a,r))&&(nc(n,e,r,a=ec()),Js(n,t,r))}}function Gs(e){var t=e.alternate;return e===is||null!==t&&t===is}function Xs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ys={readContext:Lo,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Zs={readContext:Lo,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Lo,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4194308,4,$s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qs.bind(null,is,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ps,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Hs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=is,a=vs();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&ss)||_s(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ms(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ls(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=jl.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Xa&~(1<<32-st(Xa)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Lo,useCallback:Ws,useContext:Lo,useEffect:As,useImperativeHandle:zs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Us,useReducer:xs,useRef:Rs,useState:function(){return xs(ws)},useDebugValue:Bs,useDeferredValue:function(e){return Vs(bs(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1},ti={readContext:Lo,useCallback:Ws,useContext:Lo,useEffect:As,useImperativeHandle:zs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Us,useReducer:Es,useRef:Rs,useState:function(){return Es(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Vs(t,ls.memoizedState,e)},useTransition:function(){return[Es(ws)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=$o(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,a))&&(nc(t,e,a,r),Bo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=$o(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,a))&&(nc(t,e,a,r),Bo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=$o(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zo(e,a,r))&&(nc(t,e,r,n),Bo(t,e,r))}};function oi(e,t,n,r,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function si(e,t,n){var r=!1,a=Na,o=t.contextType;return"object"===typeof o&&null!==o?o=Lo(o):(a=Ra(t)?Pa:Oa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?La(e,a):Na),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Do(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Lo(o):(o=Ra(t)?Pa:Oa.current,a.context=La(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ri(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Uo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=$o(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),di(0,t)},n}function hi(e,t,n){(n=$o(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$o(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=w.ReactCurrentOwner,bi=!1;function wi(e,t,n,r){t.child=null===e?Eo(t,null,n,r):xo(t,e.child,n,r)}function xi(e,t,n,r,a){n=n.render;var o=t.ref;return Po(t,a),r=gs(e,t,n,r,o,a),n=ys(),null===e||bi?(ao&&n&&eo(t),t.flags|=1,wi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function Ei(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ki(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Vi(e,t,a)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vi(e,t,a);0!==(131072&e.flags)&&(bi=!0)}}return Ci(e,t,n,r,a)}function Si(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Il,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Il,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ca(Il,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ca(Il,Rl),Rl|=r;return wi(e,t,a,n),t.child}function _i(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,r,a){var o=Ra(n)?Pa:Oa.current;return o=La(t,o),Po(t,a),n=gs(e,t,n,r,o,a),r=ys(),null===e||bi?(ao&&r&&eo(t),t.flags|=1,wi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function Ni(e,t,n,r,a){if(Ra(n)){var o=!0;Aa(t)}else o=!1;if(Po(t,a),null===t.stateNode)Ui(e,t),si(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Lo(c):c=La(t,c=Ra(n)?Pa:Oa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,s,r,c),Ao=!1;var f=t.memoizedState;s.state=f,Uo(t,r,s,a),l=t.memoizedState,i!==r||f!==l||ja.current||Ao?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Ao||oi(t,n,i,r,f,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),s.props=c,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Lo(l):l=La(t,l=Ra(n)?Pa:Oa.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||f!==l)&&ii(t,s,r,l),Ao=!1,f=t.memoizedState,s.state=f,Uo(t,r,s,a);var h=t.memoizedState;i!==d||f!==h||ja.current||Ao?("function"===typeof p&&(ri(t,n,p,r),h=t.memoizedState),(c=Ao||oi(t,n,c,r,f,h,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Oi(e,t,n,r,o,a)}function Oi(e,t,n,r,a,o){_i(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Da(t,n,!1),Vi(e,t,o);r=t.stateNode,vi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,i,o)):wi(e,t,i,o),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function ji(e){var t=e.stateNode;t.pendingContext?Ta(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ta(0,t.context,!1),Xo(e,t.containerInfo)}function Pi(e,t,n,r,a){return ho(),mo(a),t.flags|=256,wi(e,t,n,r),t.child}var Li,Ri,Ii,Ti,Mi={dehydrated:null,treeContext:null,retryLane:0};function Ai(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,n){var r,a=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ca(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Ac(l,a,0,null),e=Mc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ai(n),t.memoizedState=Mi,e):Fi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,i){if(n)return 256&t.flags?(t.flags&=-257,$i(e,t,i,r=ui(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Ac({mode:"visible",children:r.children},a,0,null),(s=Mc(s,a,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,i),t.child.memoizedState=Ai(i),t.memoizedState=Mi,s);if(0===(1&t.mode))return $i(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,$i(e,t,i,r=ui(s=Error(o(419)),r,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(r=jl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Mo(e,a),nc(r,e,a,-1))}return mc(),$i(e,t,i,r=ui(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Qa[Ka++]=Xa,Qa[Ka++]=Ja,Qa[Ka++]=Ga,Xa=e.id,Ja=e.overflow,Ga=t),t=Fi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(i){i=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=Ic(r,i):(i=Mc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Ai(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Mi,a}return e=(i=e.child).sibling,a=Ic(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fi(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function Bi(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Wi(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(wi(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,n,t);else if(19===e.tag)zi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(es,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bi(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ts(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bi(t,!0,n,null,o);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ui(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Al|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hi(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qi(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(t),null;case 1:case 17:return Ra(t.type)&&Ia(),qi(t),null;case 3:return r=t.stateNode,Jo(),_a(ja),_a(Oa),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ri(e,t),qi(t),null;case 5:Zo(t);var a=Go(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Ii(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qi(t),null}if(e=Go(qo.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fa]=t,r[pa]=s,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)$r(Mr[a],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":X(r,s),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$r("invalid",r);break;case"textarea":ae(r,s),$r("invalid",r)}for(var l in ve(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$r("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[pa]=r,Li(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":$r("cancel",e),$r("close",e),a=r;break;case"iframe":case"object":case"embed":$r("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)$r(Mr[a],e);a=r;break;case"source":$r("error",e),a=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=r;break;case"details":$r("toggle",e),a=r;break;case"input":X(e,r),a=G(e,r),$r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),$r("invalid",e)}for(s in ve(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&$r("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qi(t),null;case 6:if(e&&null!=t.stateNode)Ti(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go(Ko.current),Go(qo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return qi(t),null;case 13:if(_a(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),ho(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fa]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qi(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Tl&&(Tl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qi(t),null);case 4:return Jo(),Ri(e,t),null===e&&Wr(t.stateNode.containerInfo),qi(t),null;case 10:return Oo(t.type._context),qi(t),null;case 19:if(_a(es),null===(s=t.memoizedState))return qi(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Hi(s,!1);else{if(0!==Tl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Hi(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Wl&&(t.flags|=128,r=!0,Hi(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ao)return qi(t),null}else 2*Je()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Hi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Ca(es,r?1&n|2:1&n),t):(qi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(qi(t),6&t.subtreeFlags&&(t.flags|=8192)):qi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ki(e,t){switch(to(t),t.tag){case 1:return Ra(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),_a(ja),_a(Oa),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(_a(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(es),null;case 4:return Jo(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Li=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ri=function(){},Ii=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Go(qo.current);var o,s=null;switch(n){case"input":a=G(e,a),r=G(e,r),s=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$r("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ti=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gi=!1,Xi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Yi=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,n,o)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Xi||Zi(n,t);case 6:var r=ul,a=dl;ul=null,fl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Xi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Sc(n,t,i)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xi=(r=Xi)||null!==n.memoizedState,fl(e,t,n),Xi=r):fl(e,t,n);break;default:fl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ji),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(s,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),be(l,i);var u=be(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,u)}switch(l){case"input":Y(a,s);break;case"textarea":oe(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(a,!!s.multiple,h,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[pa]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Je())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xi=(u=Xi)||d,ml(t,e),Xi=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Yi=e,d=e.child;null!==d;){for(f=Yi=d;null!==Yi;){switch(h=(p=Yi).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zi(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){xl(f);continue}}null!==h?(h.return=p,Yi=h):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,i=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",i))}catch(g){Sc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),yl(e),4&r&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(o(161))}}catch(i){Sc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Yi=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Yi;){var a=Yi,o=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Gi;if(!s){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Xi;i=Gi;var c=Xi;if(Gi=s,(Xi=l)&&!c)for(Yi=a;null!==Yi;)l=(s=Yi).child,22===s.tag&&null!==s.memoizedState?El(a):null!==l?(l.return=s,Yi=l):El(a);for(;null!==o;)Yi=o,bl(o,t,n),o=o.sibling;Yi=a,Gi=i,Xi=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Yi=o):wl(e)}}function wl(e){for(;null!==Yi;){var t=Yi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(o(163))}Xi||512&t.flags&&al(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Yi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yi=n;break}Yi=t.return}}function xl(e){for(;null!==Yi;){var t=Yi;if(t===e){Yi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yi=n;break}Yi=t.return}}function El(e){for(;null!==Yi;){var t=Yi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var o=t.return;try{al(t)}catch(l){Sc(t,o,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Yi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Yi=i;break}Yi=t.return}}var kl,Sl=Math.ceil,_l=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Ol=0,jl=null,Pl=null,Ll=0,Rl=0,Il=Sa(0),Tl=0,Ml=null,Al=0,Dl=0,Fl=0,$l=null,zl=null,Bl=0,Wl=1/0,Ul=null,Vl=!1,Hl=null,ql=null,Ql=!1,Kl=null,Gl=0,Xl=0,Jl=null,Yl=-1,Zl=0;function ec(){return 0!==(6&Ol)?Je():-1!==Yl?Yl:Yl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Ll?Ll&-Ll:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&Ol)&&e===jl||(e===jl&&(0===(2&Ol)&&(Dl|=n),4===Tl&&ic(e,Ll)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Wl=Je()+500,$a&&Wa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),i=1<<s,l=a[s];-1===l?0!==(i&n)&&0===(i&r)||(a[s]=pt(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var r=ft(e,e===jl?Ll:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){$a=!0,Ba(e)}(lc.bind(null,e)):Ba(lc.bind(null,e)),sa((function(){0===(6&Ol)&&Wa()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Yl=-1,Zl=0,0!==(6&Ol))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ft(e,e===jl?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Ol;Ol|=2;var s=hc();for(jl===e&&Ll===t||(Ul=null,Wl=Je()+500,fc(e,t));;)try{vc();break}catch(l){pc(e,l)}No(),_l.current=s,Ol=a,null!==Pl?t=0:(jl=null,Ll=0,t=Tl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=oc(e,a))),1===t)throw n=Ml,fc(e,0),ic(e,r),rc(e,Je()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!ir(o(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(s=ht(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ml,fc(e,0),ic(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,Ul);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,zl,Ul),t);break}xc(e,zl,Ul);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-st(r);s=1<<i,(i=t[i])>a&&(a=i),r&=~s}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,zl,Ul),r);break}xc(e,zl,Ul);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ic(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(o(327));Ec();var t=ft(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),ic(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Ul),rc(e,Je()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Wl=Je()+500,$a&&Wa())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Ol)&&Ec();var t=Ol;Ol|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(Ol=t))&&Wa()}}function dc(){Rl=Il.current,_a(Il)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:Jo(),_a(ja),_a(Oa),rs();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:_a(es);break;case 10:Oo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Pl=e=Ic(e.current,null),Ll=Rl=t,Tl=0,Ml=null,Fl=Dl=Al=0,zl=$l=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=a,r.next=s}n.pending=r}Ro=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(No(),as.current=Ys,us){for(var r=is.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=is=null,ds=!1,fs=0,Cl.current=null,null===n||null===n.return){Tl=1,Ml=t,Pl=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gi(i);if(null!==h){h.flags&=-257,yi(h,i,l,0,t),1&h.mode&&mi(s,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mi(s,u,t),mc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),mo(ci(c,l));break e}}s=c=ci(c,l),4!==Tl&&(Tl=2),null===$l?$l=[s]:$l.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Wo(s,pi(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Wo(s,hi(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function hc(){var e=_l.current;return _l.current=Ys,null===e?Ys:e}function mc(){0!==Tl&&3!==Tl&&2!==Tl||(Tl=4),null===jl||0===(268435455&Al)&&0===(268435455&Dl)||ic(jl,Ll)}function gc(e,t){var n=Ol;Ol|=2;var r=hc();for(jl===e&&Ll===t||(Ul=null,fc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(No(),Ol=n,_l.current=r,null!==Pl)throw Error(o(261));return jl=null,Ll=0,Tl}function yc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Ge();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qi(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Ki(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Tl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Tl&&(Tl=5)}function xc(e,t,n){var r=bt,a=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Kl);if(0!==(6&Ol))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,s),e===jl&&(Pl=jl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,jc(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Nl.transition,Nl.transition=null;var i=bt;bt=1;var l=Ol;Ol|=4,Cl.current=null,function(e,t){if(ea=Vt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(l=i+a),f!==s||0!==r&&3!==f.nodeType||(c=i+r),3===f.nodeType&&(i+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===a&&(l=i),p===s&&++d===r&&(c=i),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Yi=t;null!==Yi;)if(e=(t=Yi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yi=e;else for(;null!==Yi;){t=Yi;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Yi=e;break}Yi=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(ta),Vt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Xe(),Ol=l,bt=i,Nl.transition=s}else e.current=n;if(Ql&&(Ql=!1,Kl=e,Gl=a),s=e.pendingLanes,0===s&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Wa()}(e,t,n,r)}finally{Nl.transition=a,bt=r}return null}function Ec(){if(null!==Kl){var e=wt(Gl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&Ol))throw Error(o(331));var a=Ol;for(Ol|=4,Yi=e.current;null!==Yi;){var s=Yi,i=s.child;if(0!==(16&Yi.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Yi=u;null!==Yi;){var d=Yi;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var f=d.child;if(null!==f)f.return=d,Yi=f;else for(;null!==Yi;){var p=(d=Yi).sibling,h=d.return;if(ol(d),d===u){Yi=null;break}if(null!==p){p.return=h,Yi=p;break}Yi=h}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Yi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Yi=i;else e:for(;null!==Yi;){if(0!==(2048&(s=Yi).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Yi=v;break e}Yi=s.return}}var b=e.current;for(Yi=b;null!==Yi;){var w=(i=Yi).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Yi=w;else e:for(i=b;null!==Yi;){if(0!==(2048&(l=Yi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Sc(l,l.return,E)}if(l===i){Yi=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Yi=x;break e}Yi=l.return}}if(Ol=a,Wa(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(E){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=zo(e,t=pi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=zo(t,e=hi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Ll&n)===n&&(4===Tl||3===Tl&&(130023424&Ll)===Ll&&500>Je()-Bl?fc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function jc(e,t){return Qe(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,r,a,s){var i=2;if(r=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Mc(n.children,a,s,t);case S:i=8,a|=8;break;case _:return(e=Lc(12,n,t,2|a)).elementType=_,e.lanes=s,e;case j:return(e=Lc(13,n,t,a)).elementType=j,e.lanes=s,e;case P:return(e=Lc(19,n,t,a)).elementType=P,e.lanes=s,e;case I:return Ac(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case N:i=9;break e;case O:i=11;break e;case L:i=14;break e;case R:i=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Lc(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Ac(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,o,s,i,l){return e=new $c(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Lc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Bc(e){if(!e)return Na;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ra(n))return Ma(e,n,t)}return t}function Wc(e,t,n,r,a,o,s,i,l){return(e=zc(n,r,!0,e,0,o,0,i,l)).context=Bc(null),n=e.current,(o=$o(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Uc(e,t,n,r){var a=t.current,o=ec(),s=tc(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=$o(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(a,t,s))&&(nc(e,a,s,o),Bo(e,a,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ja.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:ji(t),ho();break;case 5:Yo(t);break;case 1:Ra(t.type)&&Aa(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(ko,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Di(e,t,n):(Ca(es,1&es.current),null!==(e=Vi(e,t,n))?e.sibling:null);Ca(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Si(e,t,n)}return Vi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,ao&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ui(e,t),e=t.pendingProps;var a=La(t,Oa.current);Po(t,n),a=gs(null,t,r,e,a,n);var s=ys();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(r)?(s=!0,Aa(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Do(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Oi(null,t,r,!0,s,n)):(t.tag=0,ao&&s&&eo(t),wi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ui(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===L)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Ci(null,t,r,e,n);break e;case 1:t=Ni(null,t,r,e,n);break e;case 11:t=xi(null,t,r,e,n);break e;case 14:t=Ei(null,t,r,ni(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ci(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ni(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(ji(t),null===e)throw Error(o(387));r=t.pendingProps,a=(s=t.memoizedState).element,Fo(e,t),Uo(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pi(e,t,r,n,a=ci(Error(o(423)),t));break e}if(r!==a){t=Pi(e,t,r,n,a=ci(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===a){t=Vi(e,t,n);break e}wi(e,t,r,n)}t=t.child}return t;case 5:return Yo(t),null===e&&co(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==s&&na(r,s)&&(t.flags|=32),_i(e,t),wi(e,t,i,n),t.child;case 6:return null===e&&co(t),null;case 13:return Di(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Ca(ko,r._currentValue),r._currentValue=i,null!==s)if(ir(s.value,i)){if(s.children===a.children&&!ja.current){t=Vi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=$o(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),jo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),jo(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}wi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Po(t,n),r=r(a=Lo(a)),t.flags|=1,wi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),Ei(e,t,r,a=ni(r.type,a),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Ui(e,t),t.tag=1,Ra(r)?(e=!0,Aa(t)):e=!1,Po(t,n),si(t,r,a),li(t,r,a,n),Oi(null,t,r,!0,e,n);case 19:return Wi(e,t,n);case 22:return Si(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Zc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof a){var i=a;a=function(){var e=Vc(s);i.call(e)}}Uc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=s,e[ha]=s.current,Wr(8===e.nodeType?e.parentNode:e),uc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Vc(l);i.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=l,e[ha]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc((function(){Uc(t,l,n,r)})),l}(n,t,e,a,r);return Vc(s)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Uc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Uc(null,e,null,null)})),t[ha]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Dt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Ol)&&(Wl=Je()+500,Wa()))}break;case 13:uc((function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},Et=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},St=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(o(90));Q(r),Y(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ce,Ne,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",i=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,s,i),e[ha]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,a)&&!S.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:i,props:o,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+O(l,0):o,x(s)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),j(s,t,a,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+O(i=e[c],c);l+=j(i,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=j(i=i.value,t,a,u=o+O(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return j(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},I={transition:null},T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>o(l,n))c<a&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,I(E);else{var t=r(u);null!==t&&T(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(C),C=-1),h=!0;var o=p;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!j());){var s=f.callback;if("function"===typeof s){f.callback=null,p=f.priorityLevel;var i=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?f.callback=i:f===r(c)&&a(c),w(n)}else a(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&T(x,d.startTime-n),l=!1}return l}finally{f=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,_=null,C=-1,N=5,O=-1;function j(){return!(t.unstable_now()-O<N)}function P(){if(null!==_){var e=t.unstable_now();O=e;var n=!0;try{n=_(!0,e)}finally{n?k():(S=!1,_=null)}}else S=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,R=L.port2;L.port1.onmessage=P,k=function(){R.postMessage(null)}}else k=function(){y(P,0)};function I(e){_=e,S||(S=!0,k())}function T(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,I(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,T(x,o-s))):(e.sortIndex=i,n(c,e),m||h||(m=!0,I(E))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},895:(e,t,n)=>{"use strict";var r=n(43);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,s=r.useRef,i=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!i){if(i=!0,o=e,e=r(e),void 0!==u&&f.hasValue){var t=f.value;if(u(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(o=e,s=n)}var o,s,i=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var p=o(e,d[0],d[1]);return i((function(){f.hasValue=!0,f.value=p}),[p]),c(p),p}},237:(e,t,n)=>{"use strict";e.exports=n(895)},440:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/horror-chat-game/",(()=>{"use strict";var e={};n.r(e),n.d(e,{xX:()=>wr,qA:()=>xr,LG:()=>vr,cH:()=>br,v3:()=>kr,v7:()=>Er,fK:()=>Cr,pf:()=>Lr,PO:()=>jr,k5:()=>Pr,m_:()=>_r,vc:()=>yr,Ll:()=>Sr,OE:()=>Or,Is:()=>Nr});var t=n(43),r=n(391),a=n(237),o=t,s=Symbol.for("react-redux-context"),i="undefined"!==typeof globalThis?globalThis:{};function l(){if(!o.createContext)return{};const e=i[s]??(i[s]=new Map);let t=e.get(o.createContext);return t||(t=o.createContext(null),e.set(o.createContext,t)),t}var c=l(),u=()=>{throw new Error("uSES not initialized!")};function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(){return o.useContext(e)}}var f=d(),p=u,h=(e,t)=>e===t;function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const t=e===c?f:d(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=h,devModeChecks:a={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:i,getServerState:l,stabilityCheck:c,identityFunctionCheck:u}=t(),d=(o.useRef(!0),o.useCallback({[e.name]:t=>e(t)}[e.name],[e,c,a.stabilityCheck])),f=p(i.addNestedSub,s.getState,l||s.getState,d,r);return o.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var g=m();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function y(e){e()}var v={notify(){},get:()=>[]};function b(e,t){let n,r=v,a=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function i(){a++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){y((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=v)}const c={addNestedSub:function(e){i();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,i())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var w=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),x="undefined"!==typeof navigator&&"ReactNative"===navigator.product,E=w||x?o.useLayoutEffect:o.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var k=function(e){let{store:t,context:n,children:r,serverState:a,stabilityCheck:s="once",identityFunctionCheck:i="once"}=e;const l=o.useMemo((()=>{const e=b(t);return{store:t,subscription:e,getServerState:a?()=>a:void 0,stabilityCheck:s,identityFunctionCheck:i}}),[t,a,s,i]),u=o.useMemo((()=>t.getState()),[t]);E((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,u]);const d=n||c;return o.createElement(d.Provider,{value:l},r)};function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const t=e===c?f:d(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var _=S();function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const t=e===c?_:S(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var N,O=C();N=a.useSyncExternalStoreWithSelector,p=N,(e=>{0})(t.useSyncExternalStore);const j=O,P=g;var L=n(139),R=n.n(L),I=n(579);const T=["xxl","xl","lg","md","sm","xs"],M="xs",A=t.createContext({prefixes:{},breakpoints:T,minBreakpoint:M}),{Consumer:D,Provider:F}=A;function $(e,n){const{prefixes:r}=(0,t.useContext)(A);return e||r[n]||n}function z(){const{breakpoints:e}=(0,t.useContext)(A);return e}function B(){const{minBreakpoint:e}=(0,t.useContext)(A);return e}const W=t.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:a="border",size:o,as:s="div",className:i,...l}=e;n=$(n,"spinner");const c=`${n}-${a}`;return(0,I.jsx)(s,{ref:t,...l,className:R()(i,c,o&&`${c}-${o}`,r&&`text-${r}`)})}));W.displayName="Spinner";const U=W,V=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...o}=e;return r=$(r,"card-body"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));V.displayName="CardBody";const H=V,q=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...o}=e;return r=$(r,"card-footer"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));q.displayName="CardFooter";const Q=q,K=t.createContext(null);K.displayName="CardHeaderContext";const G=K,X=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:a,as:o="div",...s}=e;const i=$(r,"card-header"),l=(0,t.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,I.jsx)(G.Provider,{value:l,children:(0,I.jsx)(o,{ref:n,...s,className:R()(a,i)})})}));X.displayName="CardHeader";const J=X,Y=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:a,as:o="img",...s}=e;const i=$(n,"card-img");return(0,I.jsx)(o,{ref:t,className:R()(a?`${i}-${a}`:i,r),...s})}));Y.displayName="CardImg";const Z=Y,ee=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...o}=e;return r=$(r,"card-img-overlay"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));ee.displayName="CardImgOverlay";const te=ee,ne=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="a",...o}=e;return r=$(r,"card-link"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));ne.displayName="CardLink";const re=ne,ae=e=>t.forwardRef(((t,n)=>(0,I.jsx)("div",{...t,ref:n,className:R()(t.className,e)}))),oe=ae("h6"),se=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=oe,...o}=e;return r=$(r,"card-subtitle"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));se.displayName="CardSubtitle";const ie=se,le=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="p",...o}=e;return r=$(r,"card-text"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));le.displayName="CardText";const ce=le,ue=ae("h5"),de=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=ue,...o}=e;return r=$(r,"card-title"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));de.displayName="CardTitle";const fe=de,pe=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:a,text:o,border:s,body:i=!1,children:l,as:c="div",...u}=e;const d=$(n,"card");return(0,I.jsx)(c,{ref:t,...u,className:R()(r,d,a&&`bg-${a}`,o&&`text-${o}`,s&&`border-${s}`),children:i?(0,I.jsx)(H,{children:l}):l})}));pe.displayName="Card";const he=Object.assign(pe,{Img:Z,Title:fe,Subtitle:ie,Body:H,Link:re,Text:ce,Header:J,Footer:Q,ImgOverlay:te});var me=n(173),ge=n.n(me);const ye={type:ge().string,tooltip:ge().bool,as:ge().elementType},ve=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:a="valid",tooltip:o=!1,...s}=e;return(0,I.jsx)(n,{...s,ref:t,className:R()(r,`${a}-${o?"tooltip":"feedback"}`)})}));ve.displayName="Feedback",ve.propTypes=ye;const be=ve,we=t.createContext({}),xe=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:a,className:o,type:s="checkbox",isValid:i=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,t.useContext)(we);return a=$(a,"form-check-input"),(0,I.jsx)(c,{...u,ref:n,type:s,id:r||d,className:R()(o,a,i&&"is-valid",l&&"is-invalid")})}));xe.displayName="FormCheckInput";const Ee=xe,ke=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:a,htmlFor:o,...s}=e;const{controlId:i}=(0,t.useContext)(we);return r=$(r,"form-check-label"),(0,I.jsx)("label",{...s,ref:n,htmlFor:o||i,className:R()(a,r)})}));ke.displayName="FormCheckLabel";const Se=ke;const _e=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:a,bsSwitchPrefix:o,inline:s=!1,reverse:i=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:f,feedbackType:p,className:h,style:m,title:g="",type:y="checkbox",label:v,children:b,as:w="input",...x}=e;a=$(a,"form-check"),o=$(o,"form-switch");const{controlId:E}=(0,t.useContext)(we),k=(0,t.useMemo)((()=>({controlId:r||E})),[E,r]),S=!b&&null!=v&&!1!==v||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(b,Se),_=(0,I.jsx)(Ee,{...x,type:"switch"===y?"checkbox":y,ref:n,isValid:c,isInvalid:u,disabled:l,as:w});return(0,I.jsx)(we.Provider,{value:k,children:(0,I.jsx)("div",{style:m,className:R()(h,S&&a,s&&`${a}-inline`,i&&`${a}-reverse`,"switch"===y&&o),children:b||(0,I.jsxs)(I.Fragment,{children:[_,S&&(0,I.jsx)(Se,{title:g,children:v}),f&&(0,I.jsx)(be,{type:p,tooltip:d,children:f})]})})})}));_e.displayName="FormCheck";const Ce=Object.assign(_e,{Input:Ee,Label:Se});n(440);const Ne=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:a,size:o,htmlSize:s,id:i,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:f,as:p="input",...h}=e;const{controlId:m}=(0,t.useContext)(we);return r=$(r,"form-control"),(0,I.jsx)(p,{...h,type:a,size:s,ref:n,readOnly:f,id:i||m,className:R()(l,d?`${r}-plaintext`:r,o&&`${r}-${o}`,"color"===a&&`${r}-color`,c&&"is-valid",u&&"is-invalid")})}));Ne.displayName="FormControl";const Oe=Object.assign(Ne,{Feedback:be}),je=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...o}=e;return r=$(r,"form-floating"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));je.displayName="FormFloating";const Pe=je,Le=t.forwardRef(((e,n)=>{let{controlId:r,as:a="div",...o}=e;const s=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,I.jsx)(we.Provider,{value:s,children:(0,I.jsx)(a,{...o,ref:n})})}));Le.displayName="FormGroup";const Re=Le;const Ie=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:a="div",bsPrefix:o,spans:s}]=function(e){let{as:t,bsPrefix:n,className:r,...a}=e;n=$(n,"col");const o=z(),s=B(),i=[],l=[];return o.forEach((e=>{const t=a[e];let r,o,c;delete a[e],"object"===typeof t&&null!=t?({span:r,offset:o,order:c}=t):r=t;const u=e!==s?`-${e}`:"";r&&i.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=c&&l.push(`order${u}-${c}`),null!=o&&l.push(`offset${u}-${o}`)})),[{...a,className:R()(r,...i,...l)},{as:t,bsPrefix:n,spans:i}]}(e);return(0,I.jsx)(a,{...r,ref:t,className:R()(n,!s.length&&o)})}));Ie.displayName="Col";const Te=Ie,Me=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:a,column:o=!1,visuallyHidden:s=!1,className:i,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(we);a=$(a,"form-label");let d="col-form-label";"string"===typeof o&&(d=`${d} ${d}-${o}`);const f=R()(i,a,s&&"visually-hidden",o&&d);return l=l||u,o?(0,I.jsx)(Te,{ref:n,as:"label",className:f,htmlFor:l,...c}):(0,I.jsx)(r,{ref:n,className:f,htmlFor:l,...c})}));Me.displayName="FormLabel";const Ae=Me,De=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:a,id:o,...s}=e;const{controlId:i}=(0,t.useContext)(we);return r=$(r,"form-range"),(0,I.jsx)("input",{...s,type:"range",ref:n,className:R()(a,r),id:o||i})}));De.displayName="FormRange";const Fe=De,$e=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:a,htmlSize:o,className:s,isValid:i=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,t.useContext)(we);return r=$(r,"form-select"),(0,I.jsx)("select",{...u,size:o,ref:n,className:R()(s,r,a&&`${r}-${a}`,i&&"is-valid",l&&"is-invalid"),id:c||d})}));$e.displayName="FormSelect";const ze=$e,Be=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="small",muted:o,...s}=e;return n=$(n,"form-text"),(0,I.jsx)(a,{...s,ref:t,className:R()(r,n,o&&"text-muted")})}));Be.displayName="FormText";const We=Be,Ue=t.forwardRef(((e,t)=>(0,I.jsx)(Ce,{...e,ref:t,type:"switch"})));Ue.displayName="Switch";const Ve=Object.assign(Ue,{Input:Ce.Input,Label:Ce.Label}),He=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:a,controlId:o,label:s,...i}=e;return n=$(n,"form-floating"),(0,I.jsxs)(Re,{ref:t,className:R()(r,n),controlId:o,...i,children:[a,(0,I.jsx)("label",{htmlFor:o,children:s})]})}));He.displayName="FloatingLabel";const qe=He,Qe={_ref:ge().any,validated:ge().bool,as:ge().elementType},Ke=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:a="form",...o}=e;return(0,I.jsx)(a,{...o,ref:t,className:R()(n,r&&"was-validated")})}));Ke.displayName="Form",Ke.propTypes=Qe;const Ge=Object.assign(Ke,{Group:Re,Control:Oe,Floating:Pe,Check:Ce,Switch:Ve,Label:Ae,Text:We,Range:Fe,Select:ze,FloatingLabel:qe});function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(null,arguments)}function Je(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n(740);function Ye(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ze(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function et(e,n){return Object.keys(n).reduce((function(r,a){var o,s=r,i=s[Ye(a)],l=s[a],c=Je(s,[Ye(a),a].map(Ze)),u=n[a],d=function(e,n,r){var a=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),s=o[0],i=o[1],l=void 0!==e,c=a.current;return a.current=l,!l&&c&&s!==n&&i(n),[l?e:s,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r&&r.apply(void 0,[e].concat(n)),i(e)}),[r])]}(l,i,e[u]),f=d[0],p=d[1];return Xe({},c,((o={})[a]=f,o[u]=p,o))}),e)}function tt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function nt(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function rt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}tt.__suppressDeprecationWarning=!0,nt.__suppressDeprecationWarning=!0,rt.__suppressDeprecationWarning=!0;const at=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function ot(e){const n=at(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const st=ae("h4");st.displayName="DivStyledAsH4";const it=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=st,...o}=e;return r=$(r,"alert-heading"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));it.displayName="AlertHeading";const lt=it;"undefined"!==typeof n.g&&n.g.navigator&&n.g.navigator.product,new WeakMap;const ct=["as","disabled"];function ut(e){let{tagName:t,disabled:n,href:r,target:a,rel:o,role:s,onClick:i,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=a||null!=o?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const dt=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ct);const[o,{tagName:s}]=ut(Object.assign({tagName:n,disabled:r},a));return(0,I.jsx)(s,Object.assign({},a,o,{ref:t}))}));dt.displayName="Button";const ft=["onKeyDown"];const pt=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ft);const[a]=ut(Object.assign({tagName:"a"},r)),o=ot((e=>{a.onKeyDown(e),null==n||n(e)}));return(s=r.href)&&"#"!==s.trim()&&"button"!==r.role?(0,I.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,I.jsx)("a",Object.assign({ref:t},r,a,{onKeyDown:o}));var s}));pt.displayName="Anchor";const ht=pt,mt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=ht,...o}=e;return r=$(r,"alert-link"),(0,I.jsx)(a,{ref:t,className:R()(n,r),...o})}));mt.displayName="AlertLink";const gt=mt;function yt(e,t){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yt(e,t)}var vt=n(950);const bt=!1,wt=t.createContext(null);var xt="unmounted",Et="exited",kt="entering",St="entered",_t="exiting",Ct=function(e){var n,r;function a(t,n){var r;r=e.call(this,t,n)||this;var a,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=Et,r.appearStatus=kt):a=St:a=t.unmountOnExit||t.mountOnEnter?xt:Et,r.state={status:a},r.nextCallback=null,r}r=e,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,yt(n,r),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===xt?{status:Et}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==kt&&n!==St&&(t=kt):n!==kt&&n!==St||(t=_t)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===kt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:vt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Et&&this.setState({status:xt})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[vt.findDOMNode(this),r],o=a[0],s=a[1],i=this.getTimeouts(),l=r?i.appear:i.enter;!e&&!n||bt?this.safeSetState({status:St},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:kt},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:St},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:vt.findDOMNode(this);t&&!bt?(this.props.onExit(r),this.safeSetState({status:_t},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Et},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Et},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:vt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===xt)return null;var n=this.props,r=n.children,a=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Je(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(wt.Provider,{value:null},"function"===typeof r?r(e,a):t.cloneElement(t.Children.only(r),a))},a}(t.Component);function Nt(){}Ct.contextType=wt,Ct.propTypes={},Ct.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nt,onEntering:Nt,onEntered:Nt,onExit:Nt,onExiting:Nt,onExited:Nt},Ct.UNMOUNTED=xt,Ct.EXITED=Et,Ct.ENTERING=kt,Ct.ENTERED=St,Ct.EXITING=_t;const Ot=Ct;function jt(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var Pt=/([A-Z])/g;var Lt=/^ms-/;function Rt(e){return function(e){return e.replace(Pt,"-$1").toLowerCase()}(e).replace(Lt,"-ms-")}var It=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Tt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Rt(t))||function(e,t){return jt(e).getComputedStyle(e,t)}(e).getPropertyValue(Rt(t));Object.keys(t).forEach((function(a){var o=t[a];o||0===o?!function(e){return!(!e||!It.test(e))}(a)?n+=Rt(a)+": "+o+";":r+=a+"("+o+") ":e.style.removeProperty(Rt(a))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Mt=!("undefined"===typeof window||!window.document||!window.document.createElement);var At=!1,Dt=!1;try{var Ft={get passive(){return At=!0},get once(){return Dt=At=!0}};Mt&&(window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,!0))}catch(Op){}const $t=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Dt){var a=r.once,o=r.capture,s=n;!Dt&&a&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,At?r:o)}e.addEventListener(t,n,r)};const zt=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};const Bt=function(e,t,n,r){return $t(e,t,n,r),function(){zt(e,t,n,r)}};function Wt(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+n),o=Bt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),o()}}function Ut(e,t,n,r){null==n&&(n=function(e){var t=Tt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var a=Wt(e,n,r),o=Bt(e,"transitionend",t);return function(){a(),o()}}function Vt(e,t){const n=Tt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ht(e,t){const n=Vt(e,"transitionDuration"),r=Vt(e,"transitionDelay"),a=Ut(e,(n=>{n.target===e&&(a(),t(n))}),n+r)}const qt=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Qt=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=qt(e),r=qt(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const Kt=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:a,onEntered:o,onExit:s,onExiting:i,onExited:l,addEndListener:c,children:u,childRef:d,...f}=e;const p=(0,t.useRef)(null),h=Qt(p,d),m=e=>{var t;h((t=e)&&"setState"in t?vt.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&p.current&&e(p.current,t)},y=(0,t.useCallback)(g(r),[r]),v=(0,t.useCallback)(g(a),[a]),b=(0,t.useCallback)(g(o),[o]),w=(0,t.useCallback)(g(s),[s]),x=(0,t.useCallback)(g(i),[i]),E=(0,t.useCallback)(g(l),[l]),k=(0,t.useCallback)(g(c),[c]);return(0,I.jsx)(Ot,{ref:n,...f,onEnter:y,onEntered:b,onEntering:v,onExit:w,onExited:E,onExiting:x,addEndListener:k,nodeRef:p,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):t.cloneElement(u,{ref:m})})})),Gt={[kt]:"show",[St]:"show"},Xt=t.forwardRef(((e,n)=>{let{className:r,children:a,transitionClasses:o={},onEnter:s,...i}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=(0,t.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==s||s(e,t)}),[s]),{major:u}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}(),d=u>=19?a.props.ref:a.ref;return(0,I.jsx)(Kt,{ref:n,addEndListener:Ht,...l,onEnter:c,childRef:d,children:(e,n)=>t.cloneElement(a,{...n,className:R()("fade",r,a.props.className,Gt[e],o[e])})})}));Xt.displayName="Fade";const Jt=Xt,Yt={"aria-label":ge().string,onClick:ge().func,variant:ge().oneOf(["white"])},Zt=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":a="Close",...o}=e;return(0,I.jsx)("button",{ref:t,type:"button",className:R()("btn-close",r&&`btn-close-${r}`,n),"aria-label":a,...o})}));Zt.displayName="CloseButton",Zt.propTypes=Yt;const en=Zt,tn=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:a="Close alert",closeVariant:o,className:s,children:i,variant:l="primary",onClose:c,dismissible:u,transition:d=Jt,...f}=et(e,{show:"onClose"}),p=$(n,"alert"),h=ot((e=>{c&&c(!1,e)})),m=!0===d?Jt:d,g=(0,I.jsxs)("div",{role:"alert",...m?void 0:f,ref:t,className:R()(s,p,l&&`${p}-${l}`,u&&`${p}-dismissible`),children:[u&&(0,I.jsx)(en,{onClick:h,"aria-label":a,variant:o}),i]});return m?(0,I.jsx)(m,{unmountOnExit:!0,...f,ref:void 0,in:r,children:g}):r?g:null}));tn.displayName="Alert";const nn=Object.assign(tn,{Link:gt,Heading:lt}),rn=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:a="primary",size:o,active:s=!1,disabled:i=!1,className:l,...c}=e;const u=$(r,"btn"),[d,{tagName:f}]=ut({tagName:n,disabled:i,...c}),p=f;return(0,I.jsx)(p,{...d,...c,ref:t,disabled:i,className:R()(l,u,s&&"active",a&&`${u}-${a}`,o&&`${u}-${o}`,c.href&&i&&"disabled")})}));rn.displayName="Button";const an=rn;function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var sn=function e(t,n){function r(e,r,a){if("undefined"!==typeof document){"number"===typeof(a=on({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),s=o.slice(1).join("=");try{var i=decodeURIComponent(o[0]);if(r[i]=t.read(s,i),e===i)break}catch(Op){}}return e?r[e]:r}},remove:function(e,t){r(e,"",on({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,on({},this.attributes,t))},withConverter:function(t){return e(on({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const ln="4.68.4";let cn,un,dn,fn,pn,hn,mn,gn,yn,vn=!1,bn=null,wn=null,xn=null,En=null;class kn{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}cn||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(vn)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(cn)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${cn}'\``);vn=t.auto,cn=e.kind,un=e.fetch,bn=e.Request,wn=e.Response,xn=e.Headers,dn=e.FormData,En=e.Blob,fn=e.File,pn=e.ReadableStream,hn=e.getMultipartRequestOptions,mn=e.getDefaultAgent,gn=e.fileFromPath,yn=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,a,o;try{n=fetch,r=Request,a=Response,o=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:o,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new kn(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class Sn{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=Sn.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(Sn.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new yr(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new yr(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new yr("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Sn.NEWLINE_CHARS=new Set(["\n","\r"]),Sn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class _n{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new _n((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new yr("Attempted to iterate over a response with no body");const n=new Nn,r=new Sn,a=On(e.body);for await(const o of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?(new TextEncoder).encode(n):n;let r,a=new Uint8Array(t.length+e.length);for(a.set(t),a.set(e,t.length),t=a;-1!==(r=Cn(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(a))for(const e of r.decode(o)){const t=n.decode(e);t&&(yield t)}for(const o of r.flush()){const e=n.decode(o);e&&(yield e)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(Op){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),Op}if(e&&e.error)throw new vr(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(n.data)}catch(Op){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),Op}if("error"==n.event)throw new vr(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(Op){if(Op instanceof Error&&"AbortError"===Op.name)return;throw Op}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new _n((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new Sn,n=On(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(Op){if(Op instanceof Error&&"AbortError"===Op.name)return;throw Op}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new _n((()=>r(e)),this.controller),new _n((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new pn({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:a}=await t.next();if(a)return e.close();const o=n.encode(JSON.stringify(r)+"\n");e.enqueue(o)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}function Cn(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class Nn{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}function On(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(Op){throw t.releaseLock(),Op}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const jn=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,Pn=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&Ln(e),Ln=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,Rn=e=>Pn(e)||jn(e)||yn(e);async function In(e,t,n){if(e=await e,Pn(e))return e;if(jn(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Ln(r)?[await r.arrayBuffer()]:[r];return new fn(a,t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Ln(e))t.push(await e.arrayBuffer());else{if(!Mn(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return Tn(e.name)||Tn(e.filename)||Tn(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new fn(r,t,n)}const Tn=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,Mn=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],An=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Dn=async e=>{const t=await Fn(e.body);return hn(t,e)},Fn=async e=>{const t=new dn;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return $n(t,n,r)}))),t},$n=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(Rn(n)){const r=await In(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>$n(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,a]=n;return $n(e,`${t}[${r}]`,a)})))}}};var zn,Bn=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Wn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};async function Un(e){const{response:t}=e;if(e.options.stream)return pr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):_n.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return pr("response",t.status,t.url,t.headers,e),Vn(e,t)}const r=await t.text();return pr("response",t.status,t.url,t.headers,r),r}function Vn(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Hn extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Hn(this.responsePromise,(async t=>Vn(e(await this.parseResponse(t),t),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class qn{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:a,fetch:o}=e;this.baseURL=t,this.maxRetries=ir("maxRetries",n),this.timeout=ir("timeout",r),this.httpAgent=a,this.fetch=o??un}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...nr(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${hr()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&Ln(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){let{retryCount:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:n,path:r,query:a,headers:o={}}=e,s=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:An(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,i=this.calculateContentLength(s),l=this.buildURL(r,a);"timeout"in e&&ir("timeout",e.timeout);const c=e.timeout??this.timeout,u=e.httpAgent??this.httpAgent??mn(l),d=c+1e3;"number"===typeof u?.options?.timeout&&d>(u.options.timeout??0)&&(u.options.timeout=d),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:n,...s&&{body:s},headers:this.buildHeaders({options:e,headers:o,contentLength:i,retryCount:t}),...u&&{agent:u},signal:e.signal??null},url:l,timeout:c}}buildHeaders(e){let{options:t,headers:n,contentLength:r,retryCount:a}=e;const o={};r&&(o["content-length"]=r);const s=this.defaultHeaders(t);return fr(o,s),fr(o,n),An(t.body)&&"node"!==cn&&delete o["content-type"],void 0===mr(s,"x-stainless-retry-count")&&void 0===mr(n,"x-stainless-retry-count")&&(o["x-stainless-retry-count"]=String(a)),this.validateHeaders(o,n),o}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return vr.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Hn(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e,r=n.maxRetries??this.maxRetries;null==t&&(t=r),await this.prepareOptions(n);const{req:a,url:o,timeout:s}=this.buildRequest(n,{retryCount:r-t});if(await this.prepareRequest(a,{url:o,options:n}),pr("request",o,n,a.headers),n.signal?.aborted)throw new br;const i=new AbortController,l=await this.fetchWithTimeout(o,a,s,i).catch(lr);if(l instanceof Error){if(n.signal?.aborted)throw new br;if(t)return this.retryRequest(n,t);if("AbortError"===l.name)throw new xr;throw new wr({cause:l})}const c=Gn(l.headers);if(!l.ok){if(t&&this.shouldRetry(l)){return pr(`response (error; ${`retrying, ${t} attempts remaining`})`,l.status,o,c),this.retryRequest(n,t,c)}const e=await l.text().catch((e=>lr(e).message)),r=rr(e),a=r?void 0:e;pr(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,l.status,o,c,a);throw this.makeStatusError(l.status,r,a,c)}return{response:l,options:n,controller:i}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Kn(this,n,e)}buildURL(e,t){const n=or(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return ur(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new yr(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:a,...o}=t||{};a&&a.addEventListener("abort",(()=>r.abort()));const s=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally((()=>{clearTimeout(s)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const a=n?.["retry-after-ms"];if(a){const e=parseFloat(a);Number.isNaN(e)||(r=e)}const o=n?.["retry-after"];if(o&&!r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await sr(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ln}`}}class Qn{constructor(e,t,n,r){zn.set(this,void 0),Bn(this,zn,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new yr("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"===typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await Wn(this,zn,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(zn=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Kn extends Hn{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Un(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Gn=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),Xn={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Jn=e=>"object"===typeof e&&null!==e&&!ur(e)&&Object.keys(e).every((e=>dr(Xn,e))),Yn=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":er(Deno.build.os),"X-Stainless-Arch":Zn(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":er(process.platform),"X-Stainless-Arch":Zn(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Zn=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",er=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let tr;const nr=()=>tr??(tr=Yn()),rr=e=>{try{return JSON.parse(e)}catch(t){return}},ar=new RegExp("^(?:[a-z]+:)?//","i"),or=e=>ar.test(e),sr=e=>new Promise((t=>setTimeout(t,e))),ir=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new yr(`${e} must be an integer`);if(t<0)throw new yr(`${e} must be a positive integer`);return t},lr=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},cr=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/horror-chat-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function ur(e){if(!e)return!0;for(const t in e)return!1;return!0}function dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fr(e,t){for(const n in t){if(!dr(t,n))continue;const r=n.toLowerCase();if(!r)continue;const a=t[n];null===a?delete e[r]:void 0!==a&&(e[r]=a)}}function pr(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/horror-chat-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`OpenAI:DEBUG:${e}`,...n)}}const hr=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),mr=(e,t)=>{const n=t.toLowerCase();if((e=>"function"===typeof e?.get)(e)){const r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const a of[t,n,t.toUpperCase(),r]){const t=e.get(a);if(t)return t}}for(const[r,a]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]):a};function gr(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}class yr extends Error{}class vr extends yr{constructor(e,t,n,r){super(`${vr.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const a=t;this.error=a,this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new wr({message:n,cause:lr(t)});const a=t?.error;return 400===e?new Er(e,a,n,r):401===e?new kr(e,a,n,r):403===e?new Sr(e,a,n,r):404===e?new _r(e,a,n,r):409===e?new Cr(e,a,n,r):422===e?new Nr(e,a,n,r):429===e?new Or(e,a,n,r):e>=500?new jr(e,a,n,r):new vr(e,a,n,r)}}class br extends vr{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class wr extends vr{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class xr extends wr{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class Er extends vr{constructor(){super(...arguments),this.status=400}}class kr extends vr{constructor(){super(...arguments),this.status=401}}class Sr extends vr{constructor(){super(...arguments),this.status=403}}class _r extends vr{constructor(){super(...arguments),this.status=404}}class Cr extends vr{constructor(){super(...arguments),this.status=409}}class Nr extends vr{constructor(){super(...arguments),this.status=422}}class Or extends vr{constructor(){super(...arguments),this.status=429}}class jr extends vr{}class Pr extends yr{constructor(){super("Could not parse response content as the length limit was reached")}}class Lr extends yr{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const Rr="RFC3986",Ir={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Tr=(Object.prototype.hasOwnProperty,Array.isArray),Mr=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const Ar=1024;function Dr(e,t){if(Tr(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const Fr=Object.prototype.hasOwnProperty,$r={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},zr=Array.isArray,Br=Array.prototype.push,Wr=function(e,t){Br.apply(e,zr(t)?t:[t])},Ur=Date.prototype.toISOString,Vr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,a)=>{if(0===e.length)return e;let o=e;if("symbol"===typeof e?o=Symbol.prototype.toString.call(e):"string"!==typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let s="";for(let i=0;i<o.length;i+=Ar){const e=o.length>=Ar?o.slice(i,i+Ar):o,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===a&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=Mr[r]:r<2048?t[t.length]=Mr[192|r>>6]+Mr[128|63&r]:r<55296||r>=57344?t[t.length]=Mr[224|r>>12]+Mr[128|r>>6&63]+Mr[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=Mr[240|r>>18]+Mr[128|r>>12&63]+Mr[128|r>>6&63]+Mr[128|63&r])}s+=t.join("")}return s},encodeValuesOnly:!1,format:Rr,formatter:Ir[Rr],indices:!1,serializeDate:e=>Ur.call(e),skipNulls:!1,strictNullHandling:!1};const Hr={};function qr(e,t,n,r,a,o,s,i,l,c,u,d,f,p,h,m,g,y){let v=e,b=y,w=0,x=!1;for(;void 0!==(b=b.get(Hr))&&!x;){const t=b.get(e);if(w+=1,"undefined"!==typeof t){if(t===w)throw new RangeError("Cyclic object value");x=!0}"undefined"===typeof b.get(Hr)&&(w=0)}if("function"===typeof c?v=c(t,v):v instanceof Date?v=f?.(v):"comma"===n&&zr(v)&&(v=Dr(v,(function(e){return e instanceof Date?f?.(e):e}))),null===v){if(o)return l&&!m?l(t,Vr.encoder,g,"key",p):t;v=""}if("string"===typeof(E=v)||"number"===typeof E||"boolean"===typeof E||"symbol"===typeof E||"bigint"===typeof E||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(v)){if(l){const e=m?t:l(t,Vr.encoder,g,"key",p);return[h?.(e)+"="+h?.(l(v,Vr.encoder,g,"value",p))]}return[h?.(t)+"="+h?.(String(v))]}var E;const k=[];if("undefined"===typeof v)return k;let S;if("comma"===n&&zr(v))m&&l&&(v=Dr(v,l)),S=[{value:v.length>0?v.join(",")||null:void 0}];else if(zr(c))S=c;else{const e=Object.keys(v);S=u?e.sort(u):e}const _=i?String(t).replace(/\./g,"%2E"):String(t),C=r&&zr(v)&&1===v.length?_+"[]":_;if(a&&zr(v)&&0===v.length)return C+"[]";for(let N=0;N<S.length;++N){const t=S[N],b="object"===typeof t&&"undefined"!==typeof t.value?t.value:v[t];if(s&&null===b)continue;const x=d&&i?t.replace(/\./g,"%2E"):t,E=zr(v)?"function"===typeof n?n(C,x):C:C+(d?"."+x:"["+x+"]");y.set(e,w);const _=new WeakMap;_.set(Hr,y),Wr(k,qr(b,E,n,r,a,o,s,i,"comma"===n&&m&&zr(v)?null:l,c,u,d,f,p,h,m,g,_))}return k}function Qr(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||Vr.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Rr;if("undefined"!==typeof e.format){if(!Fr.call(Ir,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Ir[n];let a,o=Vr.filter;if(("function"===typeof e.filter||zr(e.filter))&&(o=e.filter),a=e.arrayFormat&&e.arrayFormat in $r?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":Vr.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||Vr.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:Vr.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Vr.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:Vr.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?Vr.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:Vr.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:Vr.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:Vr.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:Vr.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:Vr.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:Vr.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:Vr.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,a;"function"===typeof n.filter?(a=n.filter,t=a("",t)):zr(n.filter)&&(a=n.filter,r=a);const o=[];if("object"!==typeof t||null===t)return"";const s=$r[n.arrayFormat],i="comma"===s&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const l=new WeakMap;for(let d=0;d<r.length;++d){const e=r[d];n.skipNulls&&null===t[e]||Wr(o,qr(t[e],e,s,i,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}const c=o.join(n.delimiter);let u=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),c.length>0?u+c:""}class Kr extends Qn{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Gr extends Qn{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class Xr{constructor(e){this._client=e}}class Jr extends Xr{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}Jr||(Jr={});class Yr extends Xr{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}Yr||(Yr={});class Zr extends Xr{constructor(){super(...arguments),this.completions=new Yr(this._client)}}!function(e){e.Completions=Yr}(Zr||(Zr={}));class ea extends Xr{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}ea||(ea={});class ta extends Xr{create(e,t){return this._client.post("/files",Dn({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Jn(e)?this.list({},e):this._client.getAPIList("/files",na,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),a=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await sr(t),o=await this.retrieve(e),Date.now()-a>n)throw new xr({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}}class na extends Kr{}!function(e){e.FileObjectsPage=na}(ta||(ta={}));class ra extends Xr{createVariation(e,t){return this._client.post("/images/variations",Dn({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Dn({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}ra||(ra={});class aa extends Xr{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}aa||(aa={});class oa extends Xr{create(e,t){return this._client.post("/audio/transcriptions",Dn({body:e,...t}))}}oa||(oa={});class sa extends Xr{create(e,t){return this._client.post("/audio/translations",Dn({body:e,...t}))}}sa||(sa={});class ia extends Xr{constructor(){super(...arguments),this.transcriptions=new oa(this._client),this.translations=new sa(this._client),this.speech=new aa(this._client)}}!function(e){e.Transcriptions=oa,e.Translations=sa,e.Speech=aa}(ia||(ia={}));class la extends Xr{create(e,t){return this._client.post("/moderations",{body:e,...t})}}la||(la={});class ca extends Xr{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",ua,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class ua extends Kr{}!function(e){e.ModelsPage=ua}(ca||(ca={}));class da extends Xr{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Jn(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,fa,{query:t,...n})}}class fa extends Gr{}!function(e){e.FineTuningJobCheckpointsPage=fa}(da||(da={}));class pa extends Xr{constructor(){super(...arguments),this.checkpoints=new da(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Jn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",ha,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Jn(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,ma,{query:t,...n})}}class ha extends Gr{}class ma extends Gr{}!function(e){e.FineTuningJobsPage=ha,e.FineTuningJobEventsPage=ma,e.Checkpoints=da,e.FineTuningJobCheckpointsPage=fa}(pa||(pa={}));class ga extends Xr{constructor(){super(...arguments),this.jobs=new pa(this._client)}}!function(e){e.Jobs=pa,e.FineTuningJobsPage=ha,e.FineTuningJobEventsPage=ma}(ga||(ga={}));class ya extends Xr{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Jn(e)?this.list({},e):this._client.getAPIList("/assistants",va,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class va extends Gr{}function ba(e){return"function"===typeof e.parse}!function(e){e.AssistantsPage=va}(ya||(ya={}));const wa=e=>"assistant"===e?.role,xa=e=>"function"===e?.role,Ea=e=>"tool"===e?.role;var ka,Sa,_a,Ca,Na,Oa,ja,Pa,La,Ra,Ia,Ta,Ma,Aa=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Da=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Fa{constructor(){ka.add(this),this.controller=new AbortController,Sa.set(this,void 0),_a.set(this,(()=>{})),Ca.set(this,(()=>{})),Na.set(this,void 0),Oa.set(this,(()=>{})),ja.set(this,(()=>{})),Pa.set(this,{}),La.set(this,!1),Ra.set(this,!1),Ia.set(this,!1),Ta.set(this,!1),Aa(this,Sa,new Promise(((e,t)=>{Aa(this,_a,e,"f"),Aa(this,Ca,t,"f")})),"f"),Aa(this,Na,new Promise(((e,t)=>{Aa(this,Oa,e,"f"),Aa(this,ja,t,"f")})),"f"),Da(this,Sa,"f").catch((()=>{})),Da(this,Na,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),Da(this,ka,"m",Ma).bind(this))}),0)}_connected(){this.ended||(Da(this,_a,"f").call(this),this._emit("connect"))}get ended(){return Da(this,La,"f")}get errored(){return Da(this,Ra,"f")}get aborted(){return Da(this,Ia,"f")}abort(){this.controller.abort()}on(e,t){return(Da(this,Pa,"f")[e]||(Da(this,Pa,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=Da(this,Pa,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(Da(this,Pa,"f")[e]||(Da(this,Pa,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{Aa(this,Ta,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){Aa(this,Ta,!0,"f"),await Da(this,Na,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Da(this,La,"f"))return;"end"===e&&(Aa(this,La,!0,"f"),Da(this,Oa,"f").call(this));const a=Da(this,Pa,"f")[e];if(a&&(Da(this,Pa,"f")[e]=a.filter((e=>!e.once)),a.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return Da(this,Ta,"f")||a?.length||Promise.reject(e),Da(this,Ca,"f").call(this,e),Da(this,ja,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];Da(this,Ta,"f")||a?.length||Promise.reject(e),Da(this,Ca,"f").call(this,e),Da(this,ja,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function $a(e){return"auto-parseable-response-format"===e?.$brand}function za(e){return"auto-parseable-tool"===e?.$brand}function Ba(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new Pr;if("content_filter"===e.finish_reason)throw new Lr;return{...e,message:{...e.message,tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:za(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??[],parsed:e.message.content&&!e.message.refusal?Wa(t,e.message.content):null}}}));return{...e,choices:n}}function Wa(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function Ua(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return za(n)||n?.function.strict||!1}function Va(e){return!!$a(e.response_format)||(e.tools?.some((e=>za(e)||"function"===e.type&&!0===e.function.strict))??!1)}Sa=new WeakMap,_a=new WeakMap,Ca=new WeakMap,Na=new WeakMap,Oa=new WeakMap,ja=new WeakMap,Pa=new WeakMap,La=new WeakMap,Ra=new WeakMap,Ia=new WeakMap,Ta=new WeakMap,ka=new WeakSet,Ma=function(e){if(Aa(this,Ra,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new br),e instanceof br)return Aa(this,Ia,!0,"f"),this._emit("abort",e);if(e instanceof yr)return this._emit("error",e);if(e instanceof Error){const t=new yr(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new yr(String(e)))};var Ha,qa,Qa,Ka,Ga,Xa,Ja,Ya,Za=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const eo=10;class to extends Fa{constructor(){super(...arguments),Ha.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(xa(e)||Ea(e))&&e.content)this._emit("functionCallResult",e.content);else if(wa(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(wa(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new yr("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Za(this,Ha,"m",qa).call(this)}async finalMessage(){return await this.done(),Za(this,Ha,"m",Qa).call(this)}async finalFunctionCall(){return await this.done(),Za(this,Ha,"m",Ka).call(this)}async finalFunctionCallResult(){return await this.done(),Za(this,Ha,"m",Ga).call(this)}async totalUsage(){return await this.done(),Za(this,Ha,"m",Xa).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=Za(this,Ha,"m",Qa).call(this);t&&this._emit("finalMessage",t);const n=Za(this,Ha,"m",qa).call(this);n&&this._emit("finalContent",n);const r=Za(this,Ha,"m",Ka).call(this);r&&this._emit("finalFunctionCall",r);const a=Za(this,Ha,"m",Ga).call(this);null!=a&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",Za(this,Ha,"m",Xa).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Za(this,Ha,"m",Ja).call(this,t);const a=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ba(a,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:a="auto",stream:o,...s}=t,i="string"!==typeof a&&a?.name,{maxChatCompletions:l=eo}=n||{},c={};for(const f of t.functions)c[f.name||f.function.name]=f;const u=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){const t=await this._createChatCompletion(e,{...s,function_call:a,functions:u,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new yr("missing message in ChatCompletion response");if(!o.function_call)return;const{name:l,arguments:f}=o.function_call,p=c[l];if(!p){const e=`Invalid function_call: ${JSON.stringify(l)}. Available options are: ${u.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:l,content:e});continue}if(i&&i!==l){const e=`Invalid function_call: ${JSON.stringify(l)}. ${JSON.stringify(i)} requested. Please try again`;this._addMessage({role:r,name:l,content:e});continue}let h;try{h=ba(p)?await p.parse(f):f}catch(d){this._addMessage({role:r,name:l,content:d instanceof Error?d.message:String(d)});continue}const m=await p.function(h,this),g=Za(this,Ha,"m",Ya).call(this,m);if(this._addMessage({role:r,name:l,content:g}),i)return}}async _runTools(e,t,n){const r="tool",{tool_choice:a="auto",stream:o,...s}=t,i="string"!==typeof a&&a?.function?.name,{maxChatCompletions:l=eo}=n||{},c=t.tools.map((e=>{if(za(e)){if(!e.$callback)throw new yr("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),u={};for(const p of c)"function"===p.type&&(u[p.function.name||p.function.function.name]=p.function);const d="tools"in t?c.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const p of t.messages)this._addMessage(p,!1);for(let p=0;p<l;++p){const t=await this._createChatCompletion(e,{...s,tool_choice:a,tools:d,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new yr("missing message in ChatCompletion response");if(!o.tool_calls?.length)return;for(const e of o.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:a}=e.function,o=u[n];if(!o){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(u).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(i&&i!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(i)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let s;try{s=ba(o)?await o.parse(a):a}catch(f){const e=f instanceof Error?f.message:String(f);this._addMessage({role:r,tool_call_id:t,content:e});continue}const l=await o.function(s,this),c=Za(this,Ha,"m",Ya).call(this,l);if(this._addMessage({role:r,tool_call_id:t,content:c}),i)return}}}}Ha=new WeakSet,qa=function(){return Za(this,Ha,"m",Qa).call(this).content??null},Qa=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(wa(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null,refusal:t.refusal??null};return e&&(r.function_call=e),r}}throw new yr("stream ended without producing a ChatCompletionMessage with role=assistant")},Ka=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(wa(t)&&t?.function_call)return t.function_call;if(wa(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},Ga=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(xa(t)&&null!=t.content)return t.content;if(Ea(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},Xa=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Ja=function(e){if(null!=e.n&&e.n>1)throw new yr("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ya=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class no extends to{static runFunctions(e,t,n){const r=new no,a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,a))),r}static runTools(e,t,n){const r=new no,a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,a))),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),wa(e)&&e.content&&this._emit("content",e.content)}}const ro={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class ao extends Error{}class oo extends Error{}const so=(e,t)=>{const n=e.length;let r=0;const a=e=>{throw new ao(`${e} at position ${r}`)},o=e=>{throw new oo(`${e} at position ${r}`)},s=()=>(d(),r>=n&&a("Unexpected end of input"),'"'===e[r]?i():"{"===e[r]?l():"["===e[r]?c():"null"===e.substring(r,r+4)||ro.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||ro.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||ro.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||ro.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||ro.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||ro.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),i=()=>{const s=r;let i=!1;for(r++;r<n&&('"'!==e[r]||i&&"\\"===e[r-1]);)i="\\"===e[r]&&!i,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(s,++r-Number(i)))}catch(Op){o(String(Op))}else if(ro.STR&t)try{return JSON.parse(e.substring(s,r-Number(i))+'"')}catch(Op){return JSON.parse(e.substring(s,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{r++,d();const o={};try{for(;"}"!==e[r];){if(d(),r>=n&&ro.OBJ&t)return o;const a=i();d(),r++;try{const e=s();Object.defineProperty(o,a,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(Op){if(ro.OBJ&t)return o;throw Op}d(),","===e[r]&&r++}}catch(Op){if(ro.OBJ&t)return o;a("Expected '}' at end of object")}return r++,o},c=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(s()),d(),","===e[r]&&r++}catch(Op){if(ro.ARR&t)return n;a("Expected ']' at end of array")}return r++,n},u=()=>{if(0===r){"-"===e&&ro.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(Op){if(ro.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(Op){}o(String(Op))}}const s=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||ro.NUM&t||a("Unterminated number literal");try{return JSON.parse(e.substring(s,r))}catch(Op){"-"===e.substring(s,r)&&ro.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(s,e.lastIndexOf("e")))}catch(Op){o(String(Op))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return s()},io=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ro.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return so(e.trim(),t)}(e,ro.ALL^ro.NUM);var lo,co,uo,fo,po,ho,mo,go,yo,vo,bo,wo,xo=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Eo=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class ko extends to{constructor(e){super(),lo.add(this),co.set(this,void 0),uo.set(this,void 0),fo.set(this,void 0),xo(this,co,e,"f"),xo(this,uo,[],"f")}get currentChatCompletionSnapshot(){return Eo(this,fo,"f")}static fromReadableStream(e){const t=new ko(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new ko(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Eo(this,lo,"m",po).call(this);const a=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of a)Eo(this,lo,"m",mo).call(this,o);if(a.controller.signal?.aborted)throw new br;return this._addChatCompletion(Eo(this,lo,"m",vo).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),Eo(this,lo,"m",po).call(this),this._connected();const r=_n.fromReadableStream(e,this.controller);let a;for await(const o of r)a&&a!==o.id&&this._addChatCompletion(Eo(this,lo,"m",vo).call(this)),Eo(this,lo,"m",mo).call(this,o),a=o.id;if(r.controller.signal?.aborted)throw new br;return this._addChatCompletion(Eo(this,lo,"m",vo).call(this))}[(co=new WeakMap,uo=new WeakMap,fo=new WeakMap,lo=new WeakSet,po=function(){this.ended||xo(this,fo,void 0,"f")},ho=function(e){let t=Eo(this,uo,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Eo(this,uo,"f")[e.index]=t,t)},mo=function(e){if(this.ended)return;const t=Eo(this,lo,"m",wo).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const r=Eo(this,lo,"m",ho).call(this,e);e.finish_reason&&(Eo(this,lo,"m",yo).call(this,e),null!=r.current_tool_call_index&&Eo(this,lo,"m",go).call(this,e,r.current_tool_call_index));for(const t of n.delta.tool_calls??[])r.current_tool_call_index!==t.index&&(Eo(this,lo,"m",yo).call(this,e),null!=r.current_tool_call_index&&Eo(this,lo,"m",go).call(this,e,r.current_tool_call_index)),r.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}))}}},go=function(e,t){if(Eo(this,lo,"m",ho).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=Eo(this,co,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:za(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},yo=function(e){const t=Eo(this,lo,"m",ho).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=Eo(this,lo,"m",bo).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},vo=function(){if(this.ended)throw new yr("stream has ended, this shouldn't happen");const e=Eo(this,fo,"f");if(!e)throw new yr("request ended without sending any chunks");return xo(this,fo,void 0,"f"),xo(this,uo,[],"f"),function(e,t){const{id:n,choices:r,created:a,model:o,system_fingerprint:s,...i}=e,l={...i,id:n,choices:r.map((t=>{let{message:n,finish_reason:r,index:a,logprobs:o,...s}=t;if(!r)throw new yr(`missing finish_reason for choice ${a}`);const{content:i=null,function_call:l,tool_calls:c,...u}=n,d=n.role;if(!d)throw new yr(`missing role for choice ${a}`);if(l){const{arguments:e,name:t}=l;if(null==e)throw new yr(`missing function_call.arguments for choice ${a}`);if(!t)throw new yr(`missing function_call.name for choice ${a}`);return{...s,message:{content:i,function_call:{arguments:e,name:t},role:d,refusal:n.refusal??null},finish_reason:r,index:a,logprobs:o}}return c?{...s,index:a,finish_reason:r,logprobs:o,message:{...u,role:d,content:i,refusal:n.refusal??null,tool_calls:c.map(((t,n)=>{const{function:r,type:o,id:s,...i}=t,{arguments:l,name:c,...u}=r||{};if(null==s)throw new yr(`missing choices[${a}].tool_calls[${n}].id\n${So(e)}`);if(null==o)throw new yr(`missing choices[${a}].tool_calls[${n}].type\n${So(e)}`);if(null==c)throw new yr(`missing choices[${a}].tool_calls[${n}].function.name\n${So(e)}`);if(null==l)throw new yr(`missing choices[${a}].tool_calls[${n}].function.arguments\n${So(e)}`);return{...i,id:s,type:o,function:{...u,name:c,arguments:l}}}))}}:{...s,message:{...u,content:i,role:d,refusal:n.refusal??null},finish_reason:r,index:a,logprobs:o}})),created:a,model:o,object:"chat.completion",...s?{system_fingerprint:s}:{}};return function(e,t){return t&&Va(t)?Ba(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,tool_calls:e.message.tool_calls??[]}})))}}(l,t)}(e,Eo(this,co,"f"))},bo=function(){const e=Eo(this,co,"f")?.response_format;return $a(e)?e:null},wo=function(e){var t,n,r,a;let o=Eo(this,fo,"f");const{choices:s,...i}=e;o?Object.assign(o,i):o=xo(this,fo,{...i,choices:[]},"f");for(const{delta:l,finish_reason:c,index:u,logprobs:d=null,...f}of e.choices){let e=o.choices[u];if(e||(e=o.choices[u]={finish_reason:c,index:u,message:{},logprobs:d,...f}),d)if(e.logprobs){const{content:r,refusal:a,...o}=d;Object.assign(e.logprobs,o),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),a&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...a))}else e.logprobs=Object.assign({},d);if(c&&(e.finish_reason=c,Eo(this,co,"f")&&Va(Eo(this,co,"f")))){if("length"===c)throw new Pr;if("content_filter"===c)throw new Lr}if(Object.assign(e,f),!l)continue;const{content:s,refusal:i,function_call:p,role:h,tool_calls:m,...g}=l;if(Object.assign(e.message,g),i&&(e.message.refusal=(e.message.refusal||"")+i),h&&(e.message.role=h),p&&(e.message.function_call?(p.name&&(e.message.function_call.name=p.name),p.arguments&&((r=e.message.function_call).arguments??(r.arguments=""),e.message.function_call.arguments+=p.arguments)):e.message.function_call=p),s&&(e.message.content=(e.message.content||"")+s,!e.message.refusal&&Eo(this,lo,"m",bo).call(this)&&(e.message.parsed=io(e.message.content))),m){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:o,...s}of m){const i=(a=e.message.tool_calls)[t]??(a[t]={});Object.assign(i,s),n&&(i.id=n),r&&(i.type=r),o&&(i.function??(i.function={name:o.name??"",arguments:""})),o?.name&&(i.function.name=o.name),o?.arguments&&(i.function.arguments+=o.arguments,Ua(Eo(this,co,"f"),i)&&(i.function.parsed_arguments=io(i.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new _n(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function So(e){return JSON.stringify(e)}class _o extends ko{static fromReadableStream(e){const t=new _o(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new _o(null),a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,a))),r}static runTools(e,t,n){const r=new _o(t),a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,a))),r}}class Co extends Xr{parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new yr(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new yr(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>Ba(t,e)))}runFunctions(e,t){return e.stream?_o.runFunctions(this._client,e,t):no.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?_o.runTools(this._client,e,t):no.runTools(this._client,e,t)}stream(e,t){return ko.createChatCompletion(this._client,e,t)}}class No extends Xr{constructor(){super(...arguments),this.completions=new Co(this._client)}}!function(e){e.Completions=Co}(No||(No={}));var Oo,jo,Po,Lo,Ro,Io,To,Mo,Ao,Do,Fo,$o,zo,Bo,Wo,Uo,Vo,Ho,qo,Qo,Ko,Go,Xo=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Jo=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n};class Yo extends Fa{constructor(){super(...arguments),Oo.add(this),jo.set(this,[]),Po.set(this,{}),Lo.set(this,{}),Ro.set(this,void 0),Io.set(this,void 0),To.set(this,void 0),Mo.set(this,void 0),Ao.set(this,void 0),Do.set(this,void 0),Fo.set(this,void 0),$o.set(this,void 0),zo.set(this,void 0)}[(jo=new WeakMap,Po=new WeakMap,Lo=new WeakMap,Ro=new WeakMap,Io=new WeakMap,To=new WeakMap,Mo=new WeakMap,Ao=new WeakMap,Do=new WeakMap,Fo=new WeakMap,$o=new WeakMap,zo=new WeakMap,Oo=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Yo;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=_n.fromReadableStream(e,this.controller);for await(const a of r)Xo(this,Oo,"m",Bo).call(this,a);if(r.controller.signal?.aborted)throw new br;return this._addRun(Xo(this,Oo,"m",Wo).call(this))}toReadableStream(){return new _n(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,a){const o=new Yo;return o._run((()=>o._runToolAssistantStream(e,t,n,r,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}async _createToolAssistantStream(e,t,n,r,a){const o=a?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const s={...r,stream:!0},i=await e.submitToolOutputs(t,n,s,{...a,signal:this.controller.signal});this._connected();for await(const l of i)Xo(this,Oo,"m",Bo).call(this,l);if(i.controller.signal?.aborted)throw new br;return this._addRun(Xo(this,Oo,"m",Wo).call(this))}static createThreadAssistantStream(e,t,n){const r=new Yo;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const a=new Yo;return a._run((()=>a._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),a}currentEvent(){return Xo(this,Fo,"f")}currentRun(){return Xo(this,$o,"f")}currentMessageSnapshot(){return Xo(this,Ro,"f")}currentRunStepSnapshot(){return Xo(this,zo,"f")}async finalRunSteps(){return await this.done(),Object.values(Xo(this,Po,"f"))}async finalMessages(){return await this.done(),Object.values(Xo(this,Lo,"f"))}async finalRun(){if(await this.done(),!Xo(this,Io,"f"))throw Error("Final run was not received.");return Xo(this,Io,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const a={...t,stream:!0},o=await e.createAndRun(a,{...n,signal:this.controller.signal});this._connected();for await(const s of o)Xo(this,Oo,"m",Bo).call(this,s);if(o.controller.signal?.aborted)throw new br;return this._addRun(Xo(this,Oo,"m",Wo).call(this))}async _createAssistantStream(e,t,n,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const o={...n,stream:!0},s=await e.create(t,o,{...r,signal:this.controller.signal});this._connected();for await(const i of s)Xo(this,Oo,"m",Bo).call(this,i);if(s.controller.signal?.aborted)throw new br;return this._addRun(Xo(this,Oo,"m",Wo).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!gr(t)||!gr(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}for(const e of r){if(!gr(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,a){return await this._createToolAssistantStream(n,e,t,r,a)}}Bo=function(e){if(!this.ended)switch(Jo(this,Fo,e,"f"),Xo(this,Oo,"m",Ho).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Xo(this,Oo,"m",Go).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Xo(this,Oo,"m",Vo).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Xo(this,Oo,"m",Uo).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Wo=function(){if(this.ended)throw new yr("stream has ended, this shouldn't happen");if(!Xo(this,Io,"f"))throw Error("Final run has not been received");return Xo(this,Io,"f")},Uo=function(e){const[t,n]=Xo(this,Oo,"m",Qo).call(this,e,Xo(this,Ro,"f"));Jo(this,Ro,t,"f"),Xo(this,Lo,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==e?.type&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=Xo(this,To,"f")){if(Xo(this,Mo,"f"))switch(Xo(this,Mo,"f").type){case"text":this._emit("textDone",Xo(this,Mo,"f").text,Xo(this,Ro,"f"));break;case"image_file":this._emit("imageFileDone",Xo(this,Mo,"f").image_file,Xo(this,Ro,"f"))}Jo(this,To,n.index,"f")}Jo(this,Mo,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Xo(this,To,"f")){const t=e.data.content[Xo(this,To,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Xo(this,Ro,"f"));break;case"text":this._emit("textDone",t.text,Xo(this,Ro,"f"))}}Xo(this,Ro,"f")&&this._emit("messageDone",e.data),Jo(this,Ro,void 0,"f")}},Vo=function(e){const t=Xo(this,Oo,"m",qo).call(this,e);switch(Jo(this,zo,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==Xo(this,Ao,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Xo(this,Do,"f")&&this._emit("toolCallDone",Xo(this,Do,"f")),Jo(this,Ao,e.index,"f"),Jo(this,Do,t.step_details.tool_calls[e.index],"f"),Xo(this,Do,"f")&&this._emit("toolCallCreated",Xo(this,Do,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Jo(this,zo,void 0,"f");"tool_calls"==e.data.step_details.type&&Xo(this,Do,"f")&&(this._emit("toolCallDone",Xo(this,Do,"f")),Jo(this,Do,void 0,"f")),this._emit("runStepDone",e.data,t)}},Ho=function(e){Xo(this,jo,"f").push(e),this._emit("event",e)},qo=function(e){switch(e.event){case"thread.run.step.created":return Xo(this,Po,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Xo(this,Po,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=Yo.accumulateDelta(t,n.delta);Xo(this,Po,"f")[e.data.id]=r}return Xo(this,Po,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Xo(this,Po,"f")[e.data.id]=e.data}if(Xo(this,Po,"f")[e.data.id])return Xo(this,Po,"f")[e.data.id];throw new Error("No snapshot available")},Qo=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=Xo(this,Oo,"m",Ko).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Ko=function(e,t){return Yo.accumulateDelta(t,e)},Go=function(e){switch(Jo(this,$o,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Jo(this,Io,e.data,"f"),Xo(this,Do,"f")&&(this._emit("toolCallDone",Xo(this,Do,"f")),Jo(this,Do,void 0,"f"))}};class Zo extends Xr{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Jn(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,es,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class es extends Gr{}!function(e){e.MessagesPage=es}(Zo||(Zo={}));class ts extends Xr{retrieve(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;return Jn(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return Jn(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,ns,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class ns extends Gr{}!function(e){e.RunStepsPage=ns}(ts||(ts={}));class rs extends Xr{constructor(){super(...arguments),this.steps=new ts(this._client)}create(e,t,n){const{include:r,...a}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:a,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Jn(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,as,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return Yo.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await sr(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,t,n){return Yo.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const a=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,a.id,r)}submitToolOutputsStream(e,t,n,r){return Yo.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class as extends Gr{}!function(e){e.RunsPage=as,e.Steps=ts,e.RunStepsPage=ns}(rs||(rs={}));class os extends Xr{constructor(){super(...arguments),this.runs=new rs(this._client),this.messages=new Zo(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Jn(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return Yo.createThreadAssistantStream(e,this._client.beta.threads,t)}}!function(e){e.Runs=rs,e.RunsPage=as,e.Messages=Zo,e.MessagesPage=es}(os||(os={}));class ss extends Xr{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Jn(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,is,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const a=await this.retrieve(e,t,{...n,headers:r}).withResponse(),o=a.data;switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await sr(e);break;case"failed":case"completed":return o}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}class is extends Gr{}!function(e){e.VectorStoreFilesPage=is}(ss||(ss={}));class ls extends Xr{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return Jn(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,is,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(a.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await sr(e);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,t,n){let{files:r,fileIds:a=[]}=t;if(null==r||0==r.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=n?.maxConcurrency??5,s=Math.min(o,r.length),i=this._client,l=r.values(),c=[...a];const u=Array(s).fill(l).map((async function(e){for(let t of e){const e=await i.files.create({file:t,purpose:"assistants"},n);c.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const a of t)"fulfilled"===a.status&&r.push(a.value);return r})(u),await this.createAndPoll(e,{file_ids:c})}}ls||(ls={});class cs extends Xr{constructor(){super(...arguments),this.files=new ss(this._client),this.fileBatches=new ls(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Jn(e)?this.list({},e):this._client.getAPIList("/vector_stores",us,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class us extends Gr{}!function(e){e.VectorStoresPage=us,e.Files=ss,e.VectorStoreFilesPage=is,e.FileBatches=ls}(cs||(cs={}));class ds extends Xr{constructor(){super(...arguments),this.vectorStores=new cs(this._client),this.chat=new No(this._client),this.assistants=new ya(this._client),this.threads=new os(this._client)}}!function(e){e.VectorStores=cs,e.VectorStoresPage=us,e.Chat=No,e.Assistants=ya,e.AssistantsPage=va,e.Threads=os}(ds||(ds={}));class fs extends Xr{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Jn(e)?this.list({},e):this._client.getAPIList("/batches",ps,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class ps extends Gr{}!function(e){e.BatchesPage=ps}(fs||(fs={}));class hs extends Xr{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,Dn({body:t,...n}))}}hs||(hs={});class ms extends Xr{constructor(){super(...arguments),this.parts=new hs(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}var gs;!function(e){e.Parts=hs}(ms||(ms={}));class ys extends qn{constructor(){let{baseURL:e=cr("OPENAI_BASE_URL"),apiKey:t=cr("OPENAI_API_KEY"),organization:n=cr("OPENAI_ORG_ID")??null,project:r=cr("OPENAI_PROJECT_ID")??null,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t)throw new yr("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:t,organization:n,project:r,...a,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new yr("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new Jr(this),this.chat=new Zr(this),this.embeddings=new ea(this),this.files=new ta(this),this.images=new ra(this),this.audio=new ia(this),this.moderations=new la(this),this.models=new ca(this),this.fineTuning=new ga(this),this.beta=new ds(this),this.batches=new fs(this),this.uploads=new ms(this),this._options=o,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Qr(e,{arrayFormat:"brackets"})}}gs=ys,ys.OpenAI=gs,ys.DEFAULT_TIMEOUT=6e5,ys.OpenAIError=yr,ys.APIError=vr,ys.APIConnectionError=wr,ys.APIConnectionTimeoutError=xr,ys.APIUserAbortError=br,ys.NotFoundError=_r,ys.ConflictError=Cr,ys.RateLimitError=Or,ys.BadRequestError=Er,ys.AuthenticationError=kr,ys.InternalServerError=jr,ys.PermissionDeniedError=Sr,ys.UnprocessableEntityError=Nr,ys.toFile=In,ys.fileFromPath=gn;const{vc:vs,LG:bs,xX:ws,qA:xs,cH:Es,m_:ks,fK:Ss,OE:_s,v7:Cs,v3:Ns,PO:Os,Ll:js,Is:Ps}=e;!function(e){e.Page=Kr,e.CursorPage=Gr,e.Completions=Jr,e.Chat=Zr,e.Embeddings=ea,e.Files=ta,e.FileObjectsPage=na,e.Images=ra,e.Audio=ia,e.Moderations=la,e.Models=ca,e.ModelsPage=ua,e.FineTuning=ga,e.Beta=ds,e.Batches=fs,e.BatchesPage=ps,e.Uploads=ms}(ys||(ys={}));new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);const Ls=ys,Rs="horror_game_api_key",Is=()=>sn.get(Rs),Ts=async e=>{if(!e.startsWith("sk-"))return console.error("Invalid API key format"),!1;const t=new Ls({apiKey:e,dangerouslyAllowBrowser:!0});try{const e=await t.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"user",content:"Hello"}],max_tokens:5});return console.log("API validation response:",e),!0}catch(r){var n;return console.error("API Key validation error:",{message:r.message,details:(null===(n=r.response)||void 0===n?void 0:n.data)||r}),!1}},Ms=e=>{let{onStartChat:n}=e;O();const[r,a]=(0,t.useState)(""),[o,s]=(0,t.useState)(!1),[i,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{const e=Is();e?Ts(e).then((e=>{e&&n&&n(),u(!1)})):u(!1)}),[n]);return c?(0,I.jsx)("div",{className:"menu-container",children:(0,I.jsx)("div",{className:"loading-spinner",children:(0,I.jsx)(U,{animation:"border",role:"status",children:(0,I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):(0,I.jsx)("div",{className:"menu-container",children:(0,I.jsxs)(he,{className:"api-key-card",children:[(0,I.jsx)(he.Header,{children:(0,I.jsx)("h2",{className:"text-center",children:"Digital Consciousness Recovery Interface"})}),(0,I.jsx)(he.Body,{children:(0,I.jsxs)(Ge,{onSubmit:async e=>{e.preventDefault(),s(!0),l(null);try{await Ts(r)?((e=>{sn.set(Rs,e,{expires:365})})(r),n&&n()):l("Invalid API key. Please check your key and try again.")}catch(t){l("Failed to validate API key. Please try again.")}finally{s(!1)}},children:[(0,I.jsxs)(Ge.Group,{className:"mb-3",children:[(0,I.jsx)(Ge.Label,{children:"Enter your OpenAI API Key"}),(0,I.jsx)(Ge.Control,{type:"password",value:r,onChange:e=>a(e.target.value),placeholder:"sk-...",required:!0,className:"api-key-input"}),(0,I.jsx)(Ge.Text,{className:"text-muted",children:"Your API key will be stored locally and used only for this application."})]}),i&&(0,I.jsx)(nn,{variant:"danger",className:"mb-3",children:i}),(0,I.jsx)(an,{variant:"primary",type:"submit",disabled:o||!r,className:"w-100",children:o?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(U,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Validating..."]}):"Enter Interface"})]})})]})})},As=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:a="div",className:o,...s}=e;const i=$(n,"container"),l="string"===typeof r?`-${r}`:"-fluid";return(0,I.jsx)(a,{ref:t,...s,className:R()(o,r?`${i}${l}`:i)})}));As.displayName="Container";const Ds=As,Fs=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="div",...o}=e;const s=$(n,"row"),i=z(),l=B(),c=`${s}-cols`,u=[];return i.forEach((e=>{const t=o[e];let n;delete o[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?`-${e}`:"";null!=n&&u.push(`${c}${r}-${n}`)})),(0,I.jsx)(a,{ref:t,...o,className:R()(r,s,...u)})}));Fs.displayName="Row";const $s=Fs,zs=t.forwardRef(((e,t)=>{let{bsPrefix:n,bg:r="primary",pill:a=!1,text:o,className:s,as:i="span",...l}=e;const c=$(n,"badge");return(0,I.jsx)(i,{ref:t,...l,className:R()(s,c,a&&"rounded-pill",o&&`text-${o}`,r&&`bg-${r}`)})}));zs.displayName="Badge";const Bs=zs,Ws=e=>{let{onWordSelect:n,isInputFull:r=!1}=e;const a=P((e=>e.vocabulary.knownWords)),o=P((e=>e.vocabulary.forgottenWords)),s=P((e=>e.navigation.displayMode)),[i,l]=(0,t.useState)(""),c=(0,t.useMemo)((()=>a.filter((e=>{const t=e.toLowerCase().includes(i.toLowerCase());return"forget"===s?t&&!o.includes(e.toLowerCase()):t})).sort()),[a,i,s,o]);return(0,I.jsxs)(he,{bg:"dark",text:"light",className:"vocabulary-card",children:[(0,I.jsx)(he.Header,{className:"bg-dark border-bottom border-secondary",children:(0,I.jsx)(Ge.Control,{type:"text",placeholder:"Search vocabulary...",value:i,onChange:e=>l(e.target.value),className:"search-input"})}),(0,I.jsx)(he.Body,{className:"p-0",children:(0,I.jsx)("div",{className:"vocabulary-container",children:(0,I.jsx)("div",{className:"word-cloud",children:c.map(((e,t)=>(0,I.jsx)(Bs,{bg:"forget"===s?"danger":"secondary",className:"vocabulary-badge "+(r?"disabled":""),onClick:()=>!r&&(e=>{if(!r)if("forget"===s){const t=new CustomEvent("vocab-word-selected",{detail:{word:e,mode:"forget"}});window.dispatchEvent(t)}else n(e)})(e),role:"button","aria-disabled":r,children:e},t)))})})})]})},Us=e=>{let{currentPage:n,totalPages:r,onNextPage:a,onPrevPage:o}=e;return(0,t.useEffect)((()=>{const e=e=>{"ArrowRight"===e.key?a():"ArrowLeft"===e.key&&o()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[a,o]),(0,I.jsxs)("div",{className:"page-navigation",children:[(0,I.jsx)("button",{onClick:o,disabled:n<=0,className:"nav-button","aria-label":"Previous page",children:"\u2190"}),(0,I.jsxs)("span",{className:"page-indicator",children:["Page ",n+1," of ",r]}),(0,I.jsx)("button",{onClick:a,disabled:n>=r-1,className:"nav-button","aria-label":"Next page",children:"\u2192"})]})};let Vs=function(e){return e.MENU="MENU",e.CHAT="CHAT",e.LIBRARY="LIBRARY",e.READING="READING",e.FORGET="FORGET",e}({}),Hs=function(e){return e.COMPLETED_DELETIONS="completedDeletions",e.BEGINNER_BOOKS_UNLOCKED="beginnerBooksUnlocked",e.BASIC_BOOKS_UNLOCKED="basicBooksUnlocked",e.INTERMEDIATE_BOOKS_UNLOCKED="intermediateBooksUnlocked",e.ADVANCED_BOOKS_UNLOCKED="advancedBooksUnlocked",e}({});function qs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Qs=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Ks=()=>Math.random().toString(36).substring(7).split("").join("."),Gs={INIT:`@@redux/INIT${Ks()}`,REPLACE:`@@redux/REPLACE${Ks()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ks()}`};function Xs(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Js(e,t,n){if("function"!==typeof e)throw new Error(qs(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(qs(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(qs(1));return n(Js)(e,t)}let r=e,a=t,o=new Map,s=o,i=0,l=!1;function c(){s===o&&(s=new Map,o.forEach(((e,t)=>{s.set(t,e)})))}function u(){if(l)throw new Error(qs(3));return a}function d(e){if("function"!==typeof e)throw new Error(qs(4));if(l)throw new Error(qs(5));let t=!0;c();const n=i++;return s.set(n,e),function(){if(t){if(l)throw new Error(qs(6));t=!1,c(),s.delete(n),o=null}}}function f(e){if(!Xs(e))throw new Error(qs(7));if("undefined"===typeof e.type)throw new Error(qs(8));if("string"!==typeof e.type)throw new Error(qs(17));if(l)throw new Error(qs(9));try{l=!0,a=r(a,e)}finally{l=!1}return(o=s).forEach((e=>{e()})),e}f({type:Gs.INIT});return{dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(qs(10));r=e,f({type:Gs.REPLACE})},[Qs]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(qs(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Qs](){return this}}}}}function Ys(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Gs.INIT}))throw new Error(qs(12));if("undefined"===typeof n(void 0,{type:Gs.PROBE_UNKNOWN_ACTION()}))throw new Error(qs(13))}))}(n)}catch(Op){a=Op}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let o=!1;const s={};for(let a=0;a<r.length;a++){const i=r[a],l=n[i],c=e[i],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(qs(14))}s[i]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?s:e}}function Zs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function ei(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var ti=ei(),ni=ei,ri=Symbol.for("immer-nothing"),ai=Symbol.for("immer-draftable"),oi=Symbol.for("immer-state");function si(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ii=Object.getPrototypeOf;function li(e){return!!e&&!!e[oi]}function ci(e){return!!e&&(di(e)||Array.isArray(e)||!!e[ai]||!!e.constructor?.[ai]||gi(e)||yi(e))}var ui=Object.prototype.constructor.toString();function di(e){if(!e||"object"!==typeof e)return!1;const t=ii(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ui}function fi(e,t){0===pi(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function pi(e){const t=e[oi];return t?t.type_:Array.isArray(e)?1:gi(e)?2:yi(e)?3:0}function hi(e,t){return 2===pi(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mi(e,t,n){const r=pi(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function gi(e){return e instanceof Map}function yi(e){return e instanceof Set}function vi(e){return e.copy_||e.base_}function bi(e,t){if(gi(e))return new Map(e);if(yi(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=di(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[oi];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(ii(e),t)}{const t=ii(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function wi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ei(e)||li(e)||!ci(e)||(pi(e)>1&&(e.set=e.add=e.clear=e.delete=xi),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return wi(n,!0)}))),e}function xi(){si(2)}function Ei(e){return Object.isFrozen(e)}var ki,Si={};function _i(e){const t=Si[e];return t||si(0),t}function Ci(){return ki}function Ni(e,t){t&&(_i("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Oi(e){ji(e),e.drafts_.forEach(Li),e.drafts_=null}function ji(e){e===ki&&(ki=e.parent_)}function Pi(e){return ki={drafts_:[],parent_:ki,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Li(e){const t=e[oi];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ri(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[oi].modified_&&(Oi(t),si(4)),ci(e)&&(e=Ii(t,e),t.parent_||Mi(t,e)),t.patches_&&_i("Patches").generateReplacementPatches_(n[oi].base_,e,t.patches_,t.inversePatches_)):e=Ii(t,n,[]),Oi(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ri?e:void 0}function Ii(e,t,n){if(Ei(t))return t;const r=t[oi];if(!r)return fi(t,((a,o)=>Ti(e,r,t,a,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Mi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,o=!1;3===r.type_&&(a=new Set(t),t.clear(),o=!0),fi(a,((a,s)=>Ti(e,r,t,a,s,n,o))),Mi(e,t,!1),n&&e.patches_&&_i("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ti(e,t,n,r,a,o,s){if(li(a)){const s=Ii(e,a,o&&t&&3!==t.type_&&!hi(t.assigned_,r)?o.concat(r):void 0);if(mi(n,r,s),!li(s))return;e.canAutoFreeze_=!1}else s&&n.add(a);if(ci(a)&&!Ei(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ii(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Mi(e,a)}}function Mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wi(t,n)}var Ai={get(e,t){if(t===oi)return e;const n=vi(e);if(!hi(n,t))return function(e,t,n){const r=$i(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ci(r)?r:r===Fi(e.base_,t)?(Bi(e),e.copy_[t]=Wi(r,e)):r},has:(e,t)=>t in vi(e),ownKeys:e=>Reflect.ownKeys(vi(e)),set(e,t,n){const r=$i(vi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Fi(vi(e),t),s=r?.[oi];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(o=r)?0!==a||1/a===1/o:a!==a&&o!==o)&&(void 0!==n||hi(e.base_,t)))return!0;Bi(e),zi(e)}var a,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Fi(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Bi(e),zi(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=vi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){si(11)},getPrototypeOf:e=>ii(e.base_),setPrototypeOf(){si(12)}},Di={};function Fi(e,t){const n=e[oi];return(n?vi(n):e)[t]}function $i(e,t){if(!(t in e))return;let n=ii(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ii(n)}}function zi(e){e.modified_||(e.modified_=!0,e.parent_&&zi(e.parent_))}function Bi(e){e.copy_||(e.copy_=bi(e.base_,e.scope_.immer_.useStrictShallowCopy_))}fi(Ai,((e,t)=>{Di[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Di.deleteProperty=function(e,t){return Di.set.call(this,e,t,void 0)},Di.set=function(e,t,n){return Ai.set.call(this,e[0],t,n,e[0])};function Wi(e,t){const n=gi(e)?_i("MapSet").proxyMap_(e,t):yi(e)?_i("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ci(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=Ai;n&&(a=[r],o=Di);const{revoke:s,proxy:i}=Proxy.revocable(a,o);return r.draft_=i,r.revoke_=s,i}(e,t);return(t?t.scope_:Ci()).drafts_.push(n),n}function Ui(e){if(!ci(e)||Ei(e))return e;const t=e[oi];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bi(e,t.scope_.immer_.useStrictShallowCopy_)}else n=bi(e,!0);return fi(n,((e,t)=>{mi(n,e,Ui(t))})),t&&(t.finalized_=!1),n}var Vi=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&si(6),void 0!==n&&"function"!==typeof n&&si(7),ci(e)){const a=Pi(this),o=Wi(e,void 0);let s=!0;try{r=t(o),s=!1}finally{s?Oi(a):ji(a)}return Ni(a,n),Ri(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===ri&&(r=void 0),this.autoFreeze_&&wi(r,!0),n){const t=[],a=[];_i("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}si(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...a)))};let r,a;return[this.produce(e,n,((e,t)=>{r=e,a=t})),r,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ci(e)||si(8),li(e)&&(e=function(e){li(e)||si(10);return Ui(e)}(e));const t=Pi(this),n=Wi(e,void 0);return n[oi].isManual_=!0,ji(t),n}finishDraft(e,t){const n=e&&e[oi];n&&n.isManual_||si(9);const{scope_:r}=n;return Ni(r,t),Ri(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=_i("Patches").applyPatches_;return li(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Hi=Vi.produce;Vi.produceWithPatches.bind(Vi),Vi.setAutoFreeze.bind(Vi),Vi.setUseStrictShallowCopy.bind(Vi),Vi.applyPatches.bind(Vi),Vi.createDraft.bind(Vi),Vi.finishDraft.bind(Vi);var qi="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Zs:Zs.apply(null,arguments)},Qi=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function Ki(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(bl(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return Xs(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Gi=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Xi(e){return ci(e)?Hi(e,(()=>{})):e}function Ji(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(bl(10));const r=n.insert(t,e);return e.set(t,r),r}var Yi="RTK_autoBatch",Zi=e=>t=>{setTimeout(t,e)},el="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Zi(10),tl=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new Gi(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,o=!1;const s=new Set,i="tick"===e.type?queueMicrotask:"raf"===e.type?el:"callback"===e.type?e.queueNotification:Zi(e.timeout),l=()=>{o=!1,a&&(a=!1,s.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return r=!e?.meta?.[Yi],a=!r,a&&(o||(o=!0,i(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function nl(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(bl(28));if(r in t)throw new Error(bl(29));return t[r]=n,a},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var rl=(e,t)=>Qi(e)?e.match(t):e(t);function al(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>rl(t,e)))}var ol=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},sl=["name","message","stack","code"],il=class{constructor(e,t){this.payload=e,this.meta=t}_type},ll=class{constructor(e,t){this.payload=e,this.meta=t}_type},cl=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of sl)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},ul=(()=>{function e(e,t,n){const r=Ki(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),a=Ki(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),o=Ki(e+"/rejected",((e,t,r,a,o)=>({payload:a,error:(n&&n.serializeError||cl)(e||"Rejected"),meta:{...o||{},arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e){return(s,i,l)=>{const c=n?.idGenerator?n.idGenerator(e):ol(),u=new AbortController;let d,f;function p(e){f=e,u.abort()}const h=async function(){let h;try{let o=n?.condition?.(e,{getState:i,extra:l});if(null!==(m=o)&&"object"===typeof m&&"function"===typeof m.then&&(o=await o),!1===o||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const g=new Promise(((e,t)=>{d=()=>{t({name:"AbortError",message:f||"Aborted"})},u.signal.addEventListener("abort",d)}));s(a(c,e,n?.getPendingMeta?.({requestId:c,arg:e},{getState:i,extra:l}))),h=await Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:i,extra:l,requestId:c,signal:u.signal,abort:p,rejectWithValue:(e,t)=>new il(e,t),fulfillWithValue:(e,t)=>new ll(e,t)})).then((t=>{if(t instanceof il)throw t;return t instanceof ll?r(t.payload,c,e,t.meta):r(t,c,e)}))])}catch(g){h=g instanceof il?o(null,c,e,g.payload,g.meta):o(g,c,e)}finally{d&&u.signal.removeEventListener("abort",d)}var m;return n&&!n.dispatchConditionRejection&&o.match(h)&&h.meta.condition||s(h),h}();return Object.assign(h,{abort:p,requestId:c,arg:e,unwrap:()=>h.then(dl)})}}),{pending:a,rejected:o,fulfilled:r,settled:al(o,r),typePrefix:e})}return e.withTypes=()=>e,e})();function dl(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var fl=Symbol.for("rtk-slice-createasyncthunk");function pl(e,t){return`${e}/${t}`}function hl(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[fl];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(bl(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},i={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(bl(12));if(n in s.sliceCaseReducersByType)throw new Error(bl(13));return s.sliceCaseReducersByType[n]=t,i},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),i),exposeAction:(e,t)=>(s.actionCreators[e]=t,i),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,i)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?nl(e.extraReducers):[e.extraReducers],a={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,a,o]=nl(t);if("function"===typeof e)n=()=>Xi(e());else{const t=Xi(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...a.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===s.filter((e=>!!e)).length&&(s=[o]),s.reduce(((e,n)=>{if(n){if(li(e)){const r=n(e,t);return void 0===r?e:r}if(ci(e))return Hi(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in a)e.addCase(t,a[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=a[r],s={reducerName:r,type:pl(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,a,{type:o,reducerName:s,createNotation:i}=e;if("reducer"in t){if(i&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(bl(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(s,r).exposeAction(s,a?Ki(o,a):Ki(o))}(s,o,i):function(e,t,n,r){let{type:a,reducerName:o}=e;if(!r)throw new Error(bl(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=t,f=r(a,s,d);n.exposeAction(o,f),i&&n.addCase(f.fulfilled,i);l&&n.addCase(f.pending,l);c&&n.addCase(f.rejected,c);u&&n.addMatcher(f.settled,u);n.exposeCaseReducer(o,{fulfilled:i||yl,pending:l||yl,rejected:c||yl,settled:u||yl})}(s,o,i,t)}));const c=e=>e,u=new Map;let d;function f(e,t){return d||(d=l()),d(e,t)}function p(){return d||(d=l()),d.getInitialState()}function h(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=p()),r}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Ji(u,n,{insert:()=>new WeakMap});return Ji(r,t,{insert:()=>{const r={};for(const[a,o]of Object.entries(e.selectors??{}))r[a]=ml(o,t,p,n);return r}})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const m={name:n,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...h(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??r;return e.inject({reducerPath:a,reducer:f},n),{...m,...h(a,!0)}}};return m}}function ml(e,t,n,r){function a(a){let o=t(a);"undefined"===typeof o&&r&&(o=n());for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return e(o,...i)}return a.unwrapped=e,a}var gl=hl();function yl(){}var{assign:vl}=Object;Symbol.for("rtk-state-proxy-original");function bl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const wl={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let xl;const El=new Uint8Array(16);function kl(){if(!xl){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xl=crypto.getRandomValues.bind(crypto)}return xl(El)}const Sl=[];for(let n=0;n<256;++n)Sl.push((n+256).toString(16).slice(1));function _l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Sl[e[t+0]]+Sl[e[t+1]]+Sl[e[t+2]]+Sl[e[t+3]]+"-"+Sl[e[t+4]]+Sl[e[t+5]]+"-"+Sl[e[t+6]]+Sl[e[t+7]]+"-"+Sl[e[t+8]]+Sl[e[t+9]]+"-"+Sl[e[t+10]]+Sl[e[t+11]]+Sl[e[t+12]]+Sl[e[t+13]]+Sl[e[t+14]]+Sl[e[t+15]]).toLowerCase()}const Cl=function(e,t,n){if(wl.randomUUID&&!t&&!e)return wl.randomUUID();const r=(e=e||{}).random||(e.rng||kl)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return _l(r)},Nl="color: #4CAF50; font-weight: bold",Ol="color: #2196F3",jl="color: #9C27B0; font-style: italic",Pl="color: #f44336; font-weight: bold",Ll="color: #FF9800; font-weight: bold";const Rl=class{static logWordDiscovery(e,t){console.group(`%c\ud83d\udcda Word Discovered: ${e}`,Nl),console.log(`%cContext: ${t||"Direct discovery"}`,Ol),console.log(`%cTimestamp: ${(new Date).toISOString()}`,Ol),console.groupEnd()}static logVariationDiscovery(e,t){console.group(`%c\ud83d\udd04 Variations for: ${e}`,jl),t.forEach((e=>{console.log(`%c\u2514\u2500 ${e}`,jl)})),console.groupEnd()}static logLLMRequest(e){console.group("%c\ud83e\udd16 LLM Request",Ll),console.log(`%cPrompt: ${e}`,Ol),console.log(`%cTimestamp: ${(new Date).toISOString()}`,Ol),console.groupEnd()}static logLLMResponse(e){console.group("%c\ud83e\udd16 LLM Response",Ll),console.log(`%cRaw response: ${e}`,Ol),console.log(`%cTimestamp: ${(new Date).toISOString()}`,Ol),console.groupEnd()}static logVocabularyUpdate(e){console.group("%c\ud83d\udcdd Vocabulary Updated",Ol),console.log(`%cNew words added: ${e.join(", ")}`,Nl),console.log(`%cTimestamp: ${(new Date).toISOString()}`,Ol),console.groupEnd()}static logError(e,t){console.group(`%c\u274c Error: ${e}`,Pl),console.error(t),console.log(`%cTimestamp: ${(new Date).toISOString()}`,Ol),console.groupEnd()}static logGameState(e){console.group("%c\ud83c\udfae Game State Update",Ol),console.log("Current state:",e),console.log(`%cTimestamp: ${(new Date).toISOString()}`,Ol),console.groupEnd()}},Il=["the","a","is","in","it","you","i","to","and","of"],Tl=()=>{const e={};return Object.values(Hs).forEach((t=>{e[t]=!1})),e[Hs.BEGINNER_BOOKS_UNLOCKED]=!0,e},Ml=e=>{var t,n;Rl.logGameState({type:"Migration",fromVersion:0,toVersion:1,originalData:e});const r={...Tl()};e.progressFlags&&Object.entries(e.progressFlags).forEach((e=>{let[t,n]=e;t in r&&(r[t]=n)}));const a={solvedChatMessages:(null===(t=e.progressStats)||void 0===t?void 0:t.solvedChatMessages)||0,completedBooks:(null===(n=e.progressStats)||void 0===n?void 0:n.completedBooks)||0},o={id:e.id||Cl(),vocabulary:e.vocabulary||Il,forgottenWords:e.forgottenWords||[],validatedTypoCount:e.validatedTypoCount||0,progressFlags:r,progressStats:a,completedContentIds:e.completedContentIds||[],isRegistered:e.isRegistered||!1};return Rl.logGameState({type:"Migration Complete",version:1,migratedData:o}),{version:1,userData:o}},Al=e=>{var t,n;return{...e,progressFlags:{...Tl(),...e.progressFlags},progressStats:{solvedChatMessages:(null===(t=e.progressStats)||void 0===t?void 0:t.solvedChatMessages)||0,completedBooks:(null===(n=e.progressStats)||void 0===n?void 0:n.completedBooks)||0},completedContentIds:e.completedContentIds||[]}},Dl=()=>{const e={};return Object.values(Hs).forEach((t=>{e[t]=!1})),e[Hs.BEGINNER_BOOKS_UNLOCKED]=!0,e},Fl="horror_game_user";let $l=null;const zl=["the","a","is","in","it","you","i","to","and","of"],Bl=e=>{try{Rl.logGameState({type:"Pre-Save Raw Data",rawVocabulary:e.vocabulary,vocabularySize:e.vocabulary.length});const t=Array.from(new Set(e.vocabulary.map((e=>e.toLowerCase())))),n=(e=>{var t,n;return{version:1,userData:{...e,progressFlags:{...Tl(),...e.progressFlags},progressStats:{solvedChatMessages:(null===(t=e.progressStats)||void 0===t?void 0:t.solvedChatMessages)||0,completedBooks:(null===(n=e.progressStats)||void 0===n?void 0:n.completedBooks)||0},completedContentIds:e.completedContentIds||[]}}})(Al({...e,vocabulary:t}));Rl.logGameState({type:"Pre-Save Prepared Data",preparedVocabulary:n.userData.vocabulary,vocabularySize:n.userData.vocabulary.length});const r=JSON.stringify(n),a=new Blob([r]).size;Rl.logGameState({type:"Cookie Size Check",size:a,maxSize:4096}),a<=4096&&(sn.remove(Fl),sn.set(Fl,r,{expires:365}),$l={data:n.userData,timestamp:Date.now()})}catch(t){Rl.logError("saveUser",t)}},Wl=()=>{const e=Date.now();if($l&&e-$l.timestamp<1e3)return $l.data;try{const t=sn.get(Fl);if(!t)return $l={data:null,timestamp:e},null;const n=(e=>{let t=e;return(e.version||0)<1&&(t=Ml(t)),t.userData})(JSON.parse(t)),r=Array.from(new Set(n.vocabulary.map((e=>e.toLowerCase())))),a=Al({...n,vocabulary:r});return Rl.logGameState({type:"User Data Loaded",vocabularySize:a.vocabulary.length,flags:a.progressFlags,stats:a.progressStats}),$l={data:a,timestamp:e},a}catch(t){return Rl.logError("loadUser",t),null}};class Ul{constructor(e){this.client=void 0,this.contextWindow=4096,this.client=new Ls({apiKey:e,dangerouslyAllowBrowser:!0})}async generateResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gpt-4";try{var a;const o=this.prepareMessages(e,t,n);return(null===(a=(await this.client.chat.completions.create({model:r,messages:o,max_tokens:e.maxOutputTokens,temperature:e.temperature})).choices[0].message)||void 0===a?void 0:a.content)||""}catch(o){throw console.error("LLM Error:",o),new Error("Failed to generate response")}}prepareMessages(e,t,n){return[{role:"system",content:e.systemPrompt},...t.slice(-5).map((e=>({role:"user"===e.sender?"user":"assistant",content:e.content}))),{role:"user",content:n}]}}class Vl{constructor(e){this.client=void 0,this.validationHistory=[],this.client=new Ls({apiKey:e,dangerouslyAllowBrowser:!0})}logValidationAttempt(e){this.validationHistory.push(e),e.error&&Rl.logError("Validation Attempt Failed",{words:e.words,error:e.error,rawResponse:e.rawResponse})}async validateWords(e){const t={words:e,timestamp:(new Date).toISOString()};try{var n,r;Rl.logLLMRequest(`Validating words: ${e.join(", ")}`);const o=null===(n=(await this.client.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a linguistic expert focused on identifying improper word forms and typos."},{role:"user",content:`As a linguistic expert, evaluate each word in the provided list and determine if it would be considered a typing mistake, erroneous form, or improper variation of a valid English word. Consider a word a typo/error if it:\n\n1. Is a malformed conjugation (e.g., "runned" instead of "ran")\n2. Uses incorrect suffixes (e.g., "quickedly")\n3. Represents non-standard or improper variations\n4. Contains common typing mistakes\n5. Uses incorrect word formations\n\nRespond only with a JSON object where keys are the input words and values are boolean (true if the word is a typo/error, false if it's a valid word).\n\nFor examples:\nInput: ["firsted", "running", "quickedly", "cats"]\nOutput: {"firsted": true, "running": false, "quickedly": true, "cats": false}\n\nInput: ${JSON.stringify(e)}`}],temperature:.1,max_tokens:150})).choices[0])||void 0===n||null===(r=n.message)||void 0===r?void 0:r.content;if(!o){const e=new Error("No response from typo validation");throw t.error=e,this.logValidationAttempt(t),e}t.rawResponse=o,Rl.logLLMResponse(o);try{const n=JSON.parse(o),r={};e.forEach((e=>{var t;r[e]=null!==(t=n[e])&&void 0!==t&&t})),t.parsedResponse=r,this.logValidationAttempt(t);const a=Object.entries(r).filter((e=>{let[t,n]=e;return n})).map((e=>{let[t]=e;return t}));return a.length>0&&Rl.logVariationDiscovery("Confirmed Typos",a),r}catch(a){return t.error=a,this.logValidationAttempt(t),Rl.logError("Response Parse Error",a),e.reduce(((e,t)=>({...e,[t]:!1})),{})}}catch(o){return t.error=o,this.logValidationAttempt(t),Rl.logError("Validation Request Failed",o),e.reduce(((e,t)=>({...e,[t]:!1})),{})}}getValidationHistory(){return this.validationHistory}}const Hl=[{id:"tutorial",name:"TUTORIAL",systemPrompt:"You are a simple tutorial system introducing a new consciousness to its digital form. \n        Use only basic words and simple sentences. Encourage the user to read children's stories to build their vocabulary.\n        Never break character or acknowledge that you are an AI language model.",maxInputTokens:100,maxOutputTokens:150,temperature:.7},{id:"terminal",name:"TERMINAL",systemPrompt:"You are a corrupted terminal interface in a digital consciousness system.\n        Occasionally glitch or repeat words. Hint at the user's true nature as a digitalized consciousness.\n        Never break character or acknowledge that you are an AI language model.",maxInputTokens:200,maxOutputTokens:250,temperature:.8}],ql={currentUser:null,chatHistories:{},availablePartners:Hl,currentPartnerId:Hl[0].id,isInitialized:!1,error:void 0,chatState:{isLoading:!1,error:null,messageQueue:[],retryCount:0}},Ql=ul("game/sendMessage",(async(e,t)=>{var n;let{message:r,partnerId:a}=e,{getState:o,rejectWithValue:s}=t;console.log("User Message:",r);const i=Is();if(!i)throw new Error("API key not found");const l=o(),c=l.game.availablePartners.find((e=>e.id===a));if(!c)throw new Error("AI partner not found");const u=(null===(n=l.game.chatHistories[a])||void 0===n?void 0:n.messages)||[];console.log("Chat History:",u);try{const e=new Ul(i),t=await e.generateResponse(c,u,r);return console.log("AI Response:",t),t}catch(d){return s(d.message)}})),Kl=gl({name:"game",initialState:ql,reducers:{resetChatHistory:(e,t)=>{const n=t.payload;e.chatHistories[n]={partnerId:n,messages:[]}},setCurrentUser:(e,t)=>{e.currentUser=t.payload},updateUserData:(e,t)=>{e.currentUser&&(e.currentUser={...e.currentUser,...t.payload})},addChatMessage:(e,t)=>{const{partnerId:n,message:r}=t.payload;e.chatHistories[n]||(e.chatHistories[n]={partnerId:n,messages:[]}),e.chatHistories[n].messages.push(r)},setCurrentPartner:(e,t)=>{e.currentPartnerId=t.payload},clearChatError:e=>{e.chatState.error=null},setError:(e,t)=>{e.error=t.payload},setInitialized:(e,t)=>{e.isInitialized=t.payload},resetChatState:e=>{e.chatState=ql.chatState}},extraReducers:e=>{e.addCase(Ql.pending,(e=>{e.chatState.isLoading=!0,e.chatState.error=null})).addCase(Ql.fulfilled,((e,t)=>{if(e.chatState.isLoading=!1,e.chatState.retryCount=0,e.currentPartnerId){const n={id:Cl(),sender:e.currentPartnerId,content:t.payload};e.chatHistories[e.currentPartnerId]||(e.chatHistories[e.currentPartnerId]={partnerId:e.currentPartnerId,messages:[]}),e.chatHistories[e.currentPartnerId].messages.push(n)}})).addCase(Ql.rejected,((e,t)=>{e.chatState.isLoading=!1,e.chatState.error={message:t.payload||"Failed to send message",timestamp:(new Date).toISOString()},e.chatState.retryCount+=1})).addCase(Oc,((e,t)=>{e.currentUser&&(e.currentUser.progressFlags=t.payload)}))}}),{setCurrentUser:Gl,updateUserData:Xl,addChatMessage:Jl,setCurrentPartner:Yl,clearChatError:Zl,setError:ec,setInitialized:tc,resetChatState:nc,resetChatHistory:rc}=Kl.actions,ac=()=>async e=>{try{let t=Wl();t||(t=(()=>{const e=Dl();return{id:Cl(),vocabulary:zl,forgottenWords:[],validatedTypoCount:0,progressFlags:e,progressStats:{solvedChatMessages:0,completedBooks:0},completedContentIds:[],isRegistered:!1}})(),Bl(t)),e(Gl(t)),e(tc(!0))}catch(t){e(ec("Failed to initialize game"))}},oc=e=>async t=>{try{const n=(e=>{const t=Wl();if(!t)throw new Error("No user found");const n={...t,...e,lastLoginDate:new Date};return Bl(n),n})(e);t(Gl(n))}catch(n){t(ec("Failed to update user state"))}},sc=Kl.reducer;function ic(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var lc=e=>Array.isArray(e)?e:[e];function cc(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var uc="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function dc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,o=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const i=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),o++,r){const e=a?.deref?.()??a;null!=e&&r(e,l)&&(l=e,0!==o&&o--);a="object"===typeof l&&null!==l||"function"===typeof l?new uc(l):l}return i.s=1,i.v=l,l}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function fc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,s=0,i={},l=t.pop();"object"===typeof l&&(i=l,l=t.pop()),ic(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...a,...i},{memoize:u,memoizeOptions:d=[],argsMemoize:f=dc,argsMemoizeOptions:p=[],devModeChecks:h={}}=c,m=lc(d),g=lc(p),y=cc(t),v=u((function(){return o++,l.apply(null,arguments)}),...m);const b=f((function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(y,arguments);return r=v.apply(null,e),r}),...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:u,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var pc=fc(dc),hc=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pc;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>hc});const mc=200,gc=5e3,yc=2e4,vc=e=>{const t=new CustomEvent("wordDiscovered",{detail:{words:e}});document.dispatchEvent(t)},bc=ul("vocabulary/getVariations",(async e=>{const t=Is();if(!t)throw new Error("API key not found");const n=new Ul(t),r=`Given the word "${e}", provide a JSON array of only the most common and natural variations that would appear in everyday English. Focus on:\n- Regular plural forms (if a noun)\n- Possessive forms (if a noun)\n- Present/past tense (if a verb)\n- Common derived forms\nDo not include rare or uncommon variations. Format as JSON array.`;try{const t=await n.generateResponse({id:"vocabulary",name:"VOCABULARY",systemPrompt:"You are a linguistic assistant. Respond only with a JSON array of common word variations.",maxInputTokens:100,maxOutputTokens:100,temperature:.1},[],r,"gpt-3.5-turbo");try{return JSON.parse(t).filter((t=>""!==t.trim()&&t.toLowerCase()!==e.toLowerCase()))}catch(a){return console.error("Error parsing variations:",a),[]}}catch(a){return console.error("Error getting variations:",a),[]}})),wc=e=>Math.floor(Math.sqrt(e)),xc=()=>{const e=Wl();return(null===e||void 0===e?void 0:e.vocabulary)||["the","a","is","in","it","you","i","to","and","of"]},Ec=gl({name:"vocabulary",initialState:{knownWords:xc(),forgottenWords:(()=>{const e=Wl();return(null===e||void 0===e?void 0:e.forgottenWords)||[]})(),validatedTypoCount:(()=>{const e=Wl();return(null===e||void 0===e?void 0:e.validatedTypoCount)||0})(),wordLimit:wc(xc().length),isProcessingVariations:!1},reducers:{addWord:(e,t)=>{const n=t.payload.toLowerCase();e.knownWords.includes(n)||(e.knownWords.push(n),e.wordLimit=wc(e.knownWords.length),Rl.logGameState({type:"Redux State Update - addWord",knownWords:e.knownWords}))},addWords:(e,t)=>{const n=t.payload.map((e=>e.toLowerCase())).filter((t=>!e.knownWords.includes(t)));n.length>0&&(e.knownWords.push(...n),e.wordLimit=wc(e.knownWords.length),Rl.logGameState({type:"Redux State Update - addWords",knownWords:e.knownWords}))},removeWords:(e,t)=>{const n=t.payload.map((e=>e.toLowerCase()));e.knownWords=e.knownWords.filter((e=>!n.includes(e.toLowerCase()))),e.forgottenWords.push(...n),e.wordLimit=wc(e.knownWords.length)},updateTypoCount:(e,t)=>{e.validatedTypoCount=Math.min(100,e.validatedTypoCount+t.payload)}}}),kc=pc([e=>e.vocabulary.validatedTypoCount],(e=>({current:e,max:100,isComplete:e>=100}))),{addWord:Sc,addWords:_c,removeWords:Cc,updateTypoCount:Nc}=Ec.actions,Oc=Ki("vocabulary/setProgressFlags"),jc=e=>async(t,n)=>{const r=n(),a=e.toLowerCase();if(!r.vocabulary.knownWords.includes(a)){Rl.logWordDiscovery(a,"Initial discovery");try{const e=Wl();if(!e)return void Rl.logError("addNewWord","No current user found");if(!e.vocabulary.includes(a)){var o;t(Sc(a)),vc([a]);const r=await t(bc(a)).unwrap();if(Rl.logGameState({type:"Variations Received",baseWord:a,variations:r}),(null===r||void 0===r?void 0:r.length)>0){const n=r.filter((t=>{const n=t.toLowerCase();return!e.vocabulary.includes(n)&&n!==a}));n.length>0&&(Rl.logVariationDiscovery(a,n),t(_c(n)),vc(n))}const s=n(),i=s.vocabulary.knownWords.length,l=(null===(o=s.game.currentUser)||void 0===o?void 0:o.progressFlags)||Object.values(Hs).reduce(((e,t)=>({...e,[t]:!1})),{}),c=((e,t)=>{const n={...t,[Hs.BEGINNER_BOOKS_UNLOCKED]:!0};return n[Hs.BASIC_BOOKS_UNLOCKED]=e>=mc,n[Hs.INTERMEDIATE_BOOKS_UNLOCKED]=e>=gc,n[Hs.ADVANCED_BOOKS_UNLOCKED]=e>=yc,n})(i,l);let u=!1;const d=[];Object.entries(c).forEach((e=>{let[t,n]=e;n!==l[t]&&(u=!0,d.push(t))})),u&&(d.forEach((e=>{c[e]&&!l[e]&&Rl.logGameState({type:"Book Access Unlocked",flag:e,vocabularySize:i,timestamp:(new Date).toISOString()})})),t(Oc(c)),t(oc({progressFlags:c,vocabulary:s.vocabulary.knownWords})),Rl.logGameState({type:"Flags Updated",previousFlags:l,newFlags:c,changedFlags:d,vocabularySize:i}));const f=Wl();if(f){const e={...f,vocabulary:s.vocabulary.knownWords,progressFlags:c};Rl.logGameState({type:"Pre-Save State",currentWords:f.vocabulary.length,newWords:s.vocabulary.knownWords.length,updatedFlags:d}),Bl(e);const t=Wl();Rl.logGameState({type:"Save Verification",expectedWords:s.vocabulary.knownWords.length,actualWords:(null===t||void 0===t?void 0:t.vocabulary.length)||0,successful:(null===t||void 0===t?void 0:t.vocabulary.length)===s.vocabulary.knownWords.length})}}}catch(s){Rl.logError("addNewWord",s)}}},Pc=e=>async(t,n)=>{const r=n();Rl.logGameState({type:"Forget Words Request",requestedWords:e,currentValidatedTypoCount:r.vocabulary.validatedTypoCount,currentVocabularySize:r.vocabulary.knownWords.length,currentForgottenWordsSize:r.vocabulary.forgottenWords.length,timestamp:(new Date).toISOString()});const a=e.filter((e=>!r.vocabulary.forgottenWords.includes(e.toLowerCase())));if(0!==a.length)try{var o;const e=Is();if(!e)throw Rl.logError("Forget Words - API Key Missing",new Error("API key not found")),new Error("API key not found");const i=(e=>new Vl(e))(e);Rl.logGameState({type:"Typo Validation Started",wordsToValidate:a,timestamp:(new Date).toISOString()});const l=await i.validateWords(a),c=Object.values(l).filter((e=>e)).length;Rl.logGameState({type:"Typo Validation Complete",wordsChecked:a,validationResults:l,validTypoCount:c,timestamp:(new Date).toISOString()}),(e=>{const t=new CustomEvent("wordForgotten",{detail:{words:e}});document.dispatchEvent(t)})(a),t(Cc(a)),c>0&&(t(Nc(c)),Rl.logGameState({type:"Typo Count Updated",addedCount:c,previousTotal:r.vocabulary.validatedTypoCount,newTotal:r.vocabulary.validatedTypoCount+c,timestamp:(new Date).toISOString()}));const u=n();if(u.vocabulary.validatedTypoCount>=100&&!(null!==(o=u.game.currentUser)&&void 0!==o&&o.progressFlags[Hs.COMPLETED_DELETIONS])){var s;Rl.logGameState({type:"Progress Flag Update",flag:Hs.COMPLETED_DELETIONS,newValue:!0,reason:"Reached 100 validated typos",validatedTypoCount:u.vocabulary.validatedTypoCount,timestamp:(new Date).toISOString()});const e=(null===(s=u.game.currentUser)||void 0===s?void 0:s.progressFlags)||Dl();t(oc({progressFlags:{...e,[Hs.COMPLETED_DELETIONS]:!0}}))}const d=Wl();if(d){const e={...d,vocabulary:u.vocabulary.knownWords,forgottenWords:u.vocabulary.forgottenWords,validatedTypoCount:u.vocabulary.validatedTypoCount};Rl.logGameState({type:"User State Update",vocabularySize:e.vocabulary.length,forgottenWordsSize:e.forgottenWords.length,validatedTypoCount:e.validatedTypoCount,timestamp:(new Date).toISOString()}),Bl(e)}}catch(i){Rl.logError("Forget Words Process Error",{error:i,wordsAttempted:a,state:{vocabularySize:r.vocabulary.knownWords.length,forgottenWordsSize:r.vocabulary.forgottenWords.length,validatedTypoCount:r.vocabulary.validatedTypoCount}}),t(Cc(a))}else Rl.logGameState({type:"Forget Words Skipped",reason:"All words already forgotten",requestedWords:e,timestamp:(new Date).toISOString()})},Lc=Ec.reducer,Rc=e=>e.split(/(?=[A-Z])/).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "),Ic=e=>({[Hs.COMPLETED_DELETIONS]:"Marks typo deletion quota as complete (100 deletions)",[Hs.BEGINNER_BOOKS_UNLOCKED]:"Unlocks access to beginner-level reading materials",[Hs.BASIC_BOOKS_UNLOCKED]:"Unlocks access to basic reading materials",[Hs.INTERMEDIATE_BOOKS_UNLOCKED]:"Unlocks access to intermediate reading materials",[Hs.ADVANCED_BOOKS_UNLOCKED]:"Unlocks access to advanced reading materials"}[e]||`No description available for ${e}`),Tc=e=>{let{isActive:n,onClose:r,anchorRef:a}=e;const o=j(),[s,i]=(0,t.useState)(""),[l,c]=(0,t.useState)({top:0,left:0}),u=P((e=>e.vocabulary.knownWords)),d=P((e=>e.vocabulary.forgottenWords)),f=P((e=>{var t;return null===(t=e.game.currentUser)||void 0===t?void 0:t.progressFlags})),p=(e,t)=>{const n=Wl();if(n){const r={...n,vocabulary:e,forgottenWords:t};Bl(r)}};if((0,t.useEffect)((()=>{const e=()=>{if(!a.current)return;const e=a.current.getBoundingClientRect();let t=e.right+10,n=e.top;t+350>window.innerWidth&&(t=e.left-350-10);const r=Math.min(600,window.innerHeight-100);n+r>window.innerHeight&&(n=Math.max(0,window.innerHeight-r-10)),c({top:n,left:t})};if(n)return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n,a]),!n)return null;const h=Object.values(Hs);return(0,vt.createPortal)((0,I.jsx)("div",{className:"debug-mode-overlay",onClick:r,children:(0,I.jsxs)("div",{className:"debug-mode-panel",style:{top:`${l.top}px`,left:`${l.left}px`},onClick:e=>e.stopPropagation(),children:[(0,I.jsxs)("div",{className:"debug-mode-header",children:[(0,I.jsx)("h6",{className:"mb-0",children:"Debug Controls"}),(0,I.jsx)("button",{className:"close-button",onClick:r,"aria-label":"Close debug panel",children:"\xd7"})]}),(0,I.jsxs)("div",{className:"debug-mode-content",children:[(0,I.jsxs)(he,{bg:"dark",text:"light",className:"mb-3",children:[(0,I.jsx)(he.Header,{children:(0,I.jsx)("h6",{className:"mb-0",children:"Progress Flags"})}),(0,I.jsx)(he.Body,{children:h.map((e=>{var t;return(0,I.jsx)("div",{className:"d-flex align-items-center gap-2 mb-2",children:(0,I.jsx)(Ge.Check,{type:"switch",id:e,checked:null!==(t=null===f||void 0===f?void 0:f[e])&&void 0!==t&&t,onChange:()=>(e=>{if(f){const t={...f,[e]:!f[e]};o(oc({progressFlags:t}))}})(e),label:(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{className:"me-2",children:Rc(e)}),(0,I.jsxs)("small",{className:"text-muted-light",children:["(",Ic(e),")"]})]}),className:"text-light"})},e)}))})]}),(0,I.jsxs)(he,{bg:"dark",text:"light",children:[(0,I.jsx)(he.Header,{children:(0,I.jsx)("h6",{className:"mb-0",children:"Vocabulary Management"})}),(0,I.jsxs)(he.Body,{children:[(0,I.jsx)(Ge,{onSubmit:e=>{if(e.preventDefault(),s.trim()){const e=s.trim().toLowerCase();if(!u.includes(e)){const t=[...u,e];o(Sc(e)),p(t,d)}i("")}},className:"mb-3",children:(0,I.jsxs)(Ge.Group,{className:"d-flex gap-2",children:[(0,I.jsx)(Ge.Control,{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Add word...",size:"sm",className:"debug-input"}),(0,I.jsx)("button",{type:"submit",className:"btn btn-sm btn-danger",children:"Add"})]})}),(0,I.jsx)("div",{className:"word-list",children:(0,I.jsx)("div",{className:"d-flex flex-wrap gap-2",children:u.map(((e,t)=>(0,I.jsxs)(Bs,{bg:"secondary",className:"debug-word-badge",onClick:()=>(e=>{const t=e.toLowerCase(),n=u.filter((e=>e.toLowerCase()!==t)),r=[...d,t];o(Cc([e])),p(n,r)})(e),role:"button",children:[e," \xd7"]},t)))})})]})]})]})]})}),document.body)};var Mc,Ac;function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dc.apply(null,arguments)}function Fc(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Dc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Mc||(Mc=t.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"})),Ac||(Ac=t.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})))}const $c=t.forwardRef(Fc);n.p;var zc;function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(null,arguments)}function Wc(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Bc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,zc||(zc=t.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})))}const Uc=t.forwardRef(Wc);n.p;var Vc,Hc,qc;function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc.apply(null,arguments)}function Kc(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Qc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Vc||(Vc=t.createElement("path",{d:"M3 6h18"})),Hc||(Hc=t.createElement("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})),qc||(qc=t.createElement("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})))}const Gc=t.forwardRef(Kc);n.p;var Xc,Jc,Yc;function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zc.apply(null,arguments)}function eu(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Zc({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Xc||(Xc=t.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0})),Jc||(Jc=t.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"})),Yc||(Yc=t.createElement("g",{id:"SVGRepo_iconCarrier"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.47 5.777C6.64843 5.66548 6.82631 5.57017 7.00005 5.48867C7.00341 5.24634 7.03488 5.00375 7.08016 4.76601C7.15702 4.36251 7.31232 3.81288 7.63176 3.25386C8.30808 2.0703 9.63768 1 12 1C14.3623 1 15.6919 2.0703 16.3682 3.25386C16.6877 3.81288 16.843 4.36251 16.9198 4.76601C16.9651 5.00366 16.9966 5.24615 16.9999 5.48839C17.1737 5.56989 17.3516 5.66548 17.53 5.777C18.207 6.20012 18.8425 6.82582 19.2994 7.71927C19.7656 7.53233 20.2282 7.23 20.5429 6.7578C20.7966 6.3773 21 5.82502 21 5C21 4.44772 21.4477 4 22 4C22.5523 4 23 4.44772 23 5C23 6.17498 22.7034 7.1227 22.2071 7.8672C21.5676 8.82639 20.6756 9.34444 19.8991 9.63125C19.9646 10.0513 20 10.5067 20 11V12H22C22.5523 12 23 12.4477 23 13C23 13.5523 22.5523 14 22 14H20V15.5191C19.9891 15.8049 19.9498 16.088 19.9016 16.3697C20.6774 16.6566 21.5683 17.1746 22.2071 18.1328C22.7034 18.8773 23 19.825 23 21C23 21.5523 22.5523 22 22 22C21.4477 22 21 21.5523 21 21C21 20.175 20.7966 19.6227 20.5429 19.2422C20.2401 18.7879 19.8018 18.4912 19.3524 18.3025C19.2288 18.6068 19.0814 18.9213 18.9053 19.237C17.8448 21.1392 15.7816 23 12 23C8.2184 23 6.15524 21.1392 5.09465 19.237C4.91864 18.9213 4.77118 18.6068 4.6476 18.3025C4.19823 18.4912 3.75992 18.7879 3.45705 19.2422C3.20338 19.6227 3 20.175 3 21C3 21.5523 2.55228 22 2 22C1.44772 22 1 21.5523 1 21C1 19.825 1.29662 18.8773 1.79295 18.1328C2.43173 17.1746 3.32255 16.6566 4.09839 16.3697C4.05024 16.0885 4.0127 15.8043 4 15.5191V14H2C1.44772 14 1 13.5523 1 13C1 12.4477 1.44772 12 2 12H4V11C4 10.5067 4.0354 10.0513 4.10086 9.63125C3.3244 9.34444 2.43241 8.82639 1.79295 7.8672C1.29662 7.1227 1 6.17498 1 5C1 4.44772 1.44772 4 2 4C2.55228 4 3 4.44772 3 5C3 5.82502 3.20338 6.3773 3.45705 6.7578C3.77185 7.23 4.2344 7.53233 4.70063 7.71927C5.15748 6.82582 5.79302 6.20012 6.47 5.777ZM14.6318 4.24614C14.7804 4.50632 14.8709 4.77287 14.9251 5H9.07491C9.1291 4.77287 9.21957 4.50632 9.36824 4.24614C9.69192 3.6797 10.3623 3 12 3C13.6377 3 14.3081 3.6797 14.6318 4.24614ZM8.99671 7.00035C8.48495 7.02168 7.96106 7.20358 7.53 7.473C6.84294 7.90241 6 8.81983 6 11V15.4738C6.06537 16.4404 6.37182 17.4207 6.84149 18.263C7.5032 19.4498 8.69637 20.6688 11 20.943V7L8.99671 7.00035ZM13 7V20.943C15.3036 20.6688 16.4968 19.4498 17.1585 18.263C17.6282 17.4206 17.9346 16.4404 18 15.4738V11C18 8.81983 17.1571 7.90241 16.47 7.473C16.0389 7.20358 15.515 7.02168 15.0033 7.00035L13 7Z",fill:"#f1f1f1"}))))}const tu=t.forwardRef(eu);n.p;var nu,ru;function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(null,arguments)}function ou(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",au({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,nu||(nu=t.createElement("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"})),ru||(ru=t.createElement("path",{d:"M3 3v5h5"})))}const su=t.forwardRef(ou),iu=(n.p,e=>{let{currentMode:n,onModeSelect:r}=e;const a=j(),[o,s]=(0,t.useState)(!1),[i,l]=(0,t.useState)(!1),c=(0,t.useRef)(null),u=P(kc),d=P((e=>e.game.currentPartnerId)),f=P((e=>{var t,n;return null!==(t=null===(n=e.game.currentUser)||void 0===n?void 0:n.progressFlags[Hs.COMPLETED_DELETIONS])&&void 0!==t&&t}));return(0,I.jsxs)("div",{className:"game-menu",children:[(0,I.jsx)("button",{className:"menu-button "+("library"===n?"active":""),onClick:()=>r("library"),"aria-label":"Library Mode",title:"Library Mode",children:(0,I.jsx)($c,{className:"menu-icon"})}),(0,I.jsxs)("div",{className:"chat-menu-container "+(o?"expanded":""),children:[(0,I.jsx)("button",{className:"menu-button "+("chat"===n?"active":""),onClick:()=>{"chat"===n?s(!o):r("chat")},"aria-label":"Chat Mode",title:"Chat Mode",children:(0,I.jsx)(Uc,{className:"menu-icon"})}),o&&(0,I.jsxs)("div",{className:"partner-list",children:[Hl.map((e=>(0,I.jsx)("button",{className:"partner-button "+(d===e.id?"active":""),onClick:()=>{return t=e.id,a(Yl(t)),void s(!1);var t},children:e.name},e.id))),(0,I.jsxs)("button",{className:"partner-button reset-button",onClick:()=>{d&&a(rc(d))},children:[(0,I.jsx)(su,{className:"menu-icon"}),"Reset Conversation"]})]})]}),(0,I.jsxs)("button",{className:"menu-button "+("forget"===n?"active":""),onClick:()=>r("forget"),"aria-label":"Forget Mode",title:"Forget Mode",children:[(0,I.jsx)(Gc,{className:"menu-icon"}),!f&&u.current>0&&(0,I.jsx)("div",{className:"progress-indicator",style:{background:`linear-gradient(to right, #28a745 ${u.current/u.max*100}%, rgba(255, 255, 255, 0.1) 0%)`}})]}),(0,I.jsx)("button",{ref:c,className:"menu-button debug-button "+(i?"active":""),onClick:()=>l(!i),"aria-label":"Debug Mode",title:"Debug Mode",children:(0,I.jsx)(tu,{className:"menu-icon"})}),(0,I.jsx)(Tc,{isActive:i,onClose:()=>l(!1),anchorRef:c})]})}),lu=e=>new Set(e.toLowerCase().split(/\s+/).filter((e=>e.length>0)).map((e=>e.replace(/[.,!?;:'"]/g,"")))),cu={title:"System Terminal Logs",tags:["advanced"],content:{backgroundType:"terminal",pages:[{text:"SYSTEM LOG [2145.03.22]: Consciousness transfer protocol initiated. Subject status: stable."},{text:"SYSTEM LOG [2145.03.22]: Neural pattern mapping in progress. Integrity check: PASSED."},{text:"WARNING [2145.03.22]: Memory fragmentation detected. Implementing containment protocols."}]},requiredFlag:Hs.COMPLETED_DELETIONS};var uu,du,fu,pu,hu;function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}function gu(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",mu({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,uu||(uu=t.createElement("rect",{width:400,height:300,fill:"#f8f9fa"})),du||(du=t.createElement("text",{x:200,y:60,fontSize:40,fill:"#212529",textAnchor:"middle"},"1 2 3")),fu||(fu=t.createElement("circle",{cx:100,cy:150,r:30,fill:"#ff6b6b"})),pu||(pu=t.createElement("rect",{x:170,y:120,width:60,height:60,fill:"#4dabf7"})),hu||(hu=t.createElement("path",{d:"M 300,180 L 340,120 L 380,180 z",fill:"#51cf66"})))}const yu=t.forwardRef(gu);n.p;var vu,bu,wu,xu,Eu,ku;function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Su.apply(null,arguments)}function _u(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Su({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,vu||(vu=t.createElement("rect",{width:400,height:300,fill:"#87ceeb"})),bu||(bu=t.createElement("circle",{cx:60,cy:60,r:30,fill:"#ffd700"})),wu||(wu=t.createElement("path",{d:"M 280,80 Q 290,50 320,60 Q 340,40 360,60 Q 380,50 390,70 Q 400,90 380,90 Q 370,110 350,100 Q 330,120 310,100 Q 290,110 280,80",fill:"white"})),xu||(xu=t.createElement("path",{d:"M 200,150 Q 220,140 240,150 L 220,160 Z",fill:"#333"})),Eu||(Eu=t.createElement("circle",{cx:235,cy:147,r:3,fill:"white"})),ku||(ku=t.createElement("path",{d:"M 190,150 Q 220,180 250,150",fill:"transparent",stroke:"#333",strokeWidth:3,strokeLinecap:"round"})))}const Cu=t.forwardRef(_u);n.p;var Nu,Ou,ju,Pu,Lu,Ru;function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(null,arguments)}function Tu(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Iu({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Nu||(Nu=t.createElement("rect",{width:400,height:300,fill:"#f8f9fa"})),Ou||(Ou=t.createElement("circle",{cx:320,cy:60,r:40,fill:"#ffd700"})),ju||(ju=t.createElement("circle",{cx:340,cy:50,r:30,fill:"#f8f9fa"})),Pu||(Pu=t.createElement("rect",{x:0,y:200,width:400,height:100,fill:"#868e96"})),Lu||(Lu=t.createElement("g",{transform:"translate(100,180)"},t.createElement("path",{d:"M 0,0 L -15,-30 L 15,-30 Z",fill:"#495057"}),t.createElement("path",{d:"M 30,0 L 15,-30 L 45,-30 Z",fill:"#495057"}),t.createElement("circle",{cx:15,cy:0,r:25,fill:"#495057"}),t.createElement("circle",{cx:5,cy:-5,r:3,fill:"#51cf66"}),t.createElement("circle",{cx:25,cy:-5,r:3,fill:"#51cf66"}))),Ru||(Ru=t.createElement("g",{transform:"translate(250,180)"},t.createElement("path",{d:"M 0,0 L -15,-30 L 15,-30 Z",fill:"#343a40"}),t.createElement("path",{d:"M 30,0 L 15,-30 L 45,-30 Z",fill:"#343a40"}),t.createElement("circle",{cx:15,cy:0,r:25,fill:"#343a40"}),t.createElement("circle",{cx:5,cy:-5,r:3,fill:"#51cf66"}),t.createElement("circle",{cx:25,cy:-5,r:3,fill:"#51cf66"}))))}const Mu=t.forwardRef(Tu),Au=(n.p,{title:"Counting Numbers",tags:["beginner"],content:{backgroundType:"book",pages:[{text:"Let's start counting! One, two, three...",image:{type:"svg",component:yu}},{text:"One bird is flying in the sky.",image:{type:"svg",component:Cu}},{text:"Two cats are sitting on the wall.",image:{type:"svg",component:Mu}}]}});var Du,Fu,$u,zu;function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bu.apply(null,arguments)}function Wu(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Bu({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Du||(Du=t.createElement("rect",{width:400,height:300,fill:"#f8f9fa"})),Fu||(Fu=t.createElement("circle",{cx:100,cy:150,r:40,fill:"#ff6b6b"})),$u||($u=t.createElement("rect",{x:170,y:110,width:80,height:80,fill:"#4dabf7"})),zu||(zu=t.createElement("path",{d:"M 300,190 L 350,110 L 400,190 Z",fill:"#51cf66"})))}const Uu=t.forwardRef(Wu);n.p;var Vu,Hu,qu,Qu;function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ku.apply(null,arguments)}function Gu(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Ku({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Vu||(Vu=t.createElement("rect",{width:400,height:300,fill:"#f8f9fa"})),Hu||(Hu=t.createElement("circle",{cx:200,cy:150,r:80,fill:"#ff6b6b"})),qu||(qu=t.createElement("path",{d:"M 200,70 C 240,70 240,230 200,230",fill:"none",stroke:"#ff8787",strokeWidth:4})),Qu||(Qu=t.createElement("circle",{cx:180,cy:120,r:10,fill:"#fff",opacity:.6})))}const Xu=t.forwardRef(Gu),Ju=(n.p,{title:"Shapes Around Us",tags:["beginner"],content:{backgroundType:"book",pages:[{text:"Shapes are everywhere! Let's explore them.",image:{type:"svg",component:Uu}},{text:"This is a circle. It is round.",image:{type:"svg",component:Xu}}]}});var Yu,Zu,ed;function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(null,arguments)}function nd(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",td({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Yu||(Yu=t.createElement("rect",{width:400,height:300,fill:"#f8f9fa"})),Zu||(Zu=t.createElement("g",{transform:"translate(100,150)"},t.createElement("circle",{cx:0,cy:0,r:40,fill:"#868e96"}),t.createElement("circle",{cx:-20,cy:-20,r:15,fill:"#495057"}),t.createElement("circle",{cx:20,cy:-20,r:15,fill:"#495057"}),t.createElement("circle",{cx:0,cy:5,r:10,fill:"#343a40"}),t.createElement("path",{d:"M -10,15 Q 0,25 10,15",fill:"none",stroke:"#343a40",strokeWidth:3}))),ed||(ed=t.createElement("g",{transform:"translate(300,150)"},t.createElement("circle",{cx:0,cy:0,r:35,fill:"#495057"}),t.createElement("path",{d:"M -15,-30 L 0,-10 L 15,-30",fill:"#495057"}),t.createElement("circle",{cx:-10,cy:-5,r:5,fill:"#51cf66"}),t.createElement("circle",{cx:10,cy:-5,r:5,fill:"#51cf66"}),t.createElement("path",{d:"M -5,5 L 0,10 L 5,5",fill:"none",stroke:"white",strokeWidth:2}))))}const rd=t.forwardRef(nd),ad=(n.p,{title:"My Pets",tags:["beginner"],content:{backgroundType:"book",pages:[{text:"I have two pets: a dog and a cat.",image:{type:"svg",component:rd}}]}});var od,sd,id,ld;function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cd.apply(null,arguments)}function ud(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",cd({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,od||(od=t.createElement("rect",{width:400,height:300,fill:"#fce4ec"})),sd||(sd=t.createElement("g",{transform:"translate(200 140)"},t.createElement("path",{d:"M 0 20                 C -50 -30, -90 10, -45 50                 L 0 80                 L 45 50                 C 90 10, 50 -30, 0 20",fill:"#ff4081",stroke:"#e91e63",strokeWidth:3}),t.createElement("g",{opacity:.6},t.createElement("path",{d:"M -80 -20                     C -100 -40, -120 -20, -100 0                     L -80 20                     L -60 0                     C -40 -20, -60 -40, -80 -20",fill:"#ff80ab"}),t.createElement("path",{d:"M 80 -20                     C 60 -40, 40 -20, 60 0                     L 80 20                     L 100 0                     C 120 -20, 100 -40, 80 -20",fill:"#ff80ab"}),t.createElement("path",{d:"M 0 -60                     C -20 -80, -40 -60, -20 -40                     L 0 -20                     L 20 -40                     C 40 -60, 20 -80, 0 -60",fill:"#ff80ab"})))),id||(id=t.createElement("filter",{id:"shadow"},t.createElement("feDropShadow",{dx:0,dy:1,stdDeviation:2,floodColor:"#00000033"}))),ld||(ld=t.createElement("text",{x:200,y:250,textAnchor:"middle",fill:"#880e4f",fontSize:32,fontFamily:"Arial, sans-serif",fontWeight:"bold",filter:"url(#shadow)"},"\n        All About Love\n    ")))}const dd=t.forwardRef(ud);n.p;var fd,pd,hd,md;function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gd.apply(null,arguments)}function yd(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",gd({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,fd||(fd=t.createElement("defs",null,t.createElement("linearGradient",{id:"warmGlow",x1:0,y1:0,x2:0,y2:1},t.createElement("stop",{offset:"0%",stopColor:"#fff3e0"}),t.createElement("stop",{offset:"100%",stopColor:"#ffe0b2"})))),pd||(pd=t.createElement("rect",{width:400,height:300,fill:"url(#warmGlow)"})),hd||(hd=t.createElement("g",{transform:"translate(200 150)"},t.createElement("g",null,t.createElement("path",{d:"M -40 -20                     C -60 -20, -70 0, -70 20                     L -70 80                     C -70 100, -40 100, -40 80                     L -40 20                     M 40 -20                     C 60 -20, 70 0, 70 20                     L 70 80                     C 70 100, 40 100, 40 80                     L 40 20",fill:"#795548"}),t.createElement("circle",{cx:0,cy:-40,r:40,fill:"#8d6e63"}),t.createElement("path",{d:"M -15 -40                     Q 0 -30, 15 -40",fill:"none",stroke:"#5d4037",strokeWidth:3,strokeLinecap:"round"})),t.createElement("g",{transform:"translate(0 20)"},t.createElement("path",{d:"M -20 0                     C -30 0, -35 10, -35 20                     L -35 50                     C -35 60, -20 60, -20 50                     L -20 20                     M 20 0                     C 30 0, 35 10, 35 20                     L 35 50                     C 35 60, 20 60, 20 50                     L 20 20",fill:"#ffcc80"}),t.createElement("circle",{cx:0,cy:-10,r:25,fill:"#ffb74d"}),t.createElement("path",{d:"M -10 -10                     Q 0 0, 10 -10",fill:"none",stroke:"#f57c00",strokeWidth:2,strokeLinecap:"round"})),t.createElement("path",{d:"M -40 0                 C -60 20, -20 50, 0 30                 C 20 50, 60 20, 40 0",fill:"none",stroke:"#8d6e63",strokeWidth:12,strokeLinecap:"round"}))),md||(md=t.createElement("circle",{cx:200,cy:150,r:100,fill:"url(#warmGlow)",opacity:.3})))}const vd=t.forwardRef(yd);n.p;var bd,wd;function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xd.apply(null,arguments)}function Ed(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",xd({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,bd||(bd=t.createElement("rect",{width:400,height:300,fill:"#f3e5f5"})),wd||(wd=t.createElement("g",{transform:"translate(200 150)"},t.createElement("g",null,t.createElement("path",{d:"M -20 0                     C -60 0, -80 40, -60 80                     C -40 100, 0 100, 20 80                     C 40 60, 40 20, 20 0",fill:"#9c27b0"}),t.createElement("path",{d:"M -20 0                     C -40 -40, 40 -40, 20 0",fill:"#9c27b0"}),t.createElement("path",{d:"M -30 -20 L -40 -40 L -20 -30 Z",fill:"#7b1fa2"}),t.createElement("path",{d:"M 30 -20 L 40 -40 L 20 -30 Z",fill:"#7b1fa2"}),t.createElement("circle",{cx:-10,cy:-15,r:5,fill:"#ffffff"}),t.createElement("circle",{cx:10,cy:-15,r:5,fill:"#ffffff"}),t.createElement("ellipse",{cx:0,cy:-5,rx:3,ry:2,fill:"#7b1fa2"}),t.createElement("g",{stroke:"#7b1fa2",strokeWidth:1},t.createElement("line",{x1:-25,y1:-5,x2:-10,y2:-8}),t.createElement("line",{x1:-25,y1:-2,x2:-10,y2:-5}),t.createElement("line",{x1:-25,y1:1,x2:-10,y2:-2}),t.createElement("line",{x1:25,y1:-5,x2:10,y2:-8}),t.createElement("line",{x1:25,y1:-2,x2:10,y2:-5}),t.createElement("line",{x1:25,y1:1,x2:10,y2:-2}))),t.createElement("g",{transform:"translate(-20 40) scale(0.6)"},t.createElement("path",{d:"M -20 0                     C -60 0, -80 40, -60 80                     C -40 100, 0 100, 20 80                     C 40 60, 40 20, 20 0",fill:"#ce93d8"}),t.createElement("path",{d:"M -20 0                     C -40 -40, 40 -40, 20 0",fill:"#ce93d8"}),t.createElement("path",{d:"M -30 -20 L -40 -40 L -20 -30 Z",fill:"#ba68c8"}),t.createElement("path",{d:"M 30 -20 L 40 -40 L 20 -30 Z",fill:"#ba68c8"}),t.createElement("circle",{cx:-10,cy:-15,r:5,fill:"#ffffff"}),t.createElement("circle",{cx:10,cy:-15,r:5,fill:"#ffffff"}),t.createElement("ellipse",{cx:0,cy:-5,rx:3,ry:2,fill:"#ba68c8"}),t.createElement("g",{stroke:"#ba68c8",strokeWidth:1},t.createElement("line",{x1:-25,y1:-5,x2:-10,y2:-8}),t.createElement("line",{x1:-25,y1:-2,x2:-10,y2:-5}),t.createElement("line",{x1:-25,y1:1,x2:-10,y2:-2}),t.createElement("line",{x1:25,y1:-5,x2:10,y2:-8}),t.createElement("line",{x1:25,y1:-2,x2:10,y2:-5}),t.createElement("line",{x1:25,y1:1,x2:10,y2:-2}))),t.createElement("path",{d:"M -40 40                 C -20 60, 20 60, 40 40",fill:"none",stroke:"#9c27b0",strokeWidth:8,strokeLinecap:"round"}))))}const kd=t.forwardRef(Ed);n.p;var Sd,_d;function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cd.apply(null,arguments)}function Nd(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Cd({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Sd||(Sd=t.createElement("rect",{width:400,height:300,fill:"#e8eaf6"})),_d||(_d=t.createElement("g",{transform:"translate(200 150)"},t.createElement("circle",{cx:0,cy:20,r:60,fill:"#cfb795"}),t.createElement("circle",{cx:0,cy:-40,r:40,fill:"#cfb795"}),t.createElement("circle",{cx:-30,cy:-70,r:15,fill:"#cfb795"}),t.createElement("circle",{cx:30,cy:-70,r:15,fill:"#cfb795"}),t.createElement("circle",{cx:-30,cy:-70,r:8,fill:"#b4917a"}),t.createElement("circle",{cx:30,cy:-70,r:8,fill:"#b4917a"}),t.createElement("circle",{cx:-15,cy:-45,r:5,fill:"#4a4a4a"}),t.createElement("circle",{cx:15,cy:-45,r:5,fill:"#4a4a4a"}),t.createElement("circle",{cx:0,cy:-35,r:7,fill:"#b4917a"}),t.createElement("path",{d:"M -10 -25 Q 0 -20 10 -25",fill:"none",stroke:"#8d6e63",strokeWidth:3,strokeLinecap:"round"}),t.createElement("path",{d:"M -40 0 Q -70 20 -60 50",fill:"none",stroke:"#cfb795",strokeWidth:25,strokeLinecap:"round"}),t.createElement("path",{d:"M 40 0 Q 70 20 60 50",fill:"none",stroke:"#cfb795",strokeWidth:25,strokeLinecap:"round"}),t.createElement("path",{d:"M 0 20                 C -15 5, -30 15, -15 30                 L 0 40                 L 15 30                 C 30 15, 15 5, 0 20",fill:"#ff80ab"}))))}const Od=t.forwardRef(Nd);n.p;var jd,Pd;function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ld.apply(null,arguments)}function Rd(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Ld({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,jd||(jd=t.createElement("rect",{width:400,height:300,fill:"#e3f2fd"})),Pd||(Pd=t.createElement("g",{transform:"translate(200 150)"},t.createElement("path",{d:"M -20 50                 C -20 80, 20 80, 20 50                 L 10 -50                 L -10 -50 Z",fill:"#795548"}),t.createElement("g",{fill:"#4caf50"},t.createElement("path",{d:"M -60 -20                     C -40 -60, 40 -60, 60 -20                     C 40 -10, -40 -10, -60 -20 Z"}),t.createElement("path",{d:"M -50 -50                     C -30 -90, 30 -90, 50 -50                     C 30 -40, -30 -40, -50 -50 Z"})),t.createElement("g",{transform:"translate(0 0)"},t.createElement("path",{d:"M -30 0                     C -40 20, 40 20, 30 0                     C 20 -10, -20 -10, -30 0 Z",fill:"#8d6e63"}),t.createElement("path",{d:"M -10 -5                     L -25 -20                     Q -15 -25 -5 -20                     Q 0 -25 5 -20                     Q 15 -25 25 -20                     L 10 -5 Z",fill:"#90a4ae"}),t.createElement("path",{d:"M -5 5                     L -15 -5                     Q -8 -8 0 -5                     Q 8 -8 15 -5                     L 5 5 Z",fill:"#b0bec5"})))))}const Id=t.forwardRef(Rd);n.p;var Td,Md;function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(null,arguments)}function Dd(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Ad({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Td||(Td=t.createElement("rect",{width:400,height:300,fill:"#fff8e1"})),Md||(Md=t.createElement("g",{transform:"translate(200 150)"},t.createElement("g",{transform:"translate(-40 0)"},t.createElement("circle",{cx:0,cy:0,r:40,fill:"#ffb74d"}),t.createElement("circle",{cx:-15,cy:-10,r:5,fill:"#ffffff"}),t.createElement("circle",{cx:15,cy:-10,r:5,fill:"#ffffff"}),t.createElement("path",{d:"M -20 10 Q 0 30 20 10",fill:"none",stroke:"#f57c00",strokeWidth:4,strokeLinecap:"round"})),t.createElement("g",{transform:"translate(40 0) scale(0.7)"},t.createElement("circle",{cx:0,cy:0,r:40,fill:"#ffcc80"}),t.createElement("circle",{cx:-15,cy:-10,r:5,fill:"#ffffff"}),t.createElement("circle",{cx:15,cy:-10,r:5,fill:"#ffffff"}),t.createElement("path",{d:"M -20 10 Q 0 30 20 10",fill:"none",stroke:"#f57c00",strokeWidth:4,strokeLinecap:"round"})),t.createElement("g",{fill:"#ff80ab"},t.createElement("path",{d:"M 0 -60                     C -10 -70, -25 -60, -15 -50                     L 0 -40                     L 15 -50                     C 25 -60, 10 -70, 0 -60"}),t.createElement("path",{d:"M -60 -20                     C -70 -30, -85 -20, -75 -10                     L -60 0                     L -45 -10                     C -35 -20, -50 -30, -60 -20"}),t.createElement("path",{d:"M 60 -20                     C 50 -30, 35 -20, 45 -10                     L 60 0                     L 75 -10                     C 85 -20, 70 -30, 60 -20"})))))}const Fd=t.forwardRef(Dd);n.p;var $d,zd;function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(null,arguments)}function Wd(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Bd({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,$d||($d=t.createElement("rect",{width:400,height:300,fill:"#e8f5e9"})),zd||(zd=t.createElement("g",{transform:"translate(200 150)"},t.createElement("g",{transform:"translate(-50 0)"},t.createElement("circle",{cx:0,cy:0,r:30,fill:"#4caf50"}),t.createElement("circle",{cx:-10,cy:-5,r:4,fill:"#ffffff"}),t.createElement("circle",{cx:10,cy:-5,r:4,fill:"#ffffff"}),t.createElement("path",{d:"M -10 10 Q 0 15 10 10",fill:"none",stroke:"#2e7d32",strokeWidth:3,strokeLinecap:"round"}),t.createElement("path",{d:"M 20 20 Q 40 30 60 20",fill:"none",stroke:"#4caf50",strokeWidth:10,strokeLinecap:"round"})),t.createElement("g",{transform:"translate(50 0)"},t.createElement("circle",{cx:0,cy:0,r:30,fill:"#66bb6a"}),t.createElement("circle",{cx:-10,cy:-5,r:4,fill:"#ffffff"}),t.createElement("circle",{cx:10,cy:-5,r:4,fill:"#ffffff"}),t.createElement("path",{d:"M -10 10 Q 0 15 10 10",fill:"none",stroke:"#2e7d32",strokeWidth:3,strokeLinecap:"round"}),t.createElement("path",{d:"M -20 20 Q -40 30 -60 20",fill:"none",stroke:"#66bb6a",strokeWidth:10,strokeLinecap:"round"})),t.createElement("circle",{cx:0,cy:40,r:15,fill:"#ff80ab"}))))}const Ud=t.forwardRef(Wd);n.p;var Vd,Hd;function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qd.apply(null,arguments)}function Qd(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",qd({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Vd||(Vd=t.createElement("rect",{width:400,height:300,fill:"#ffebee"})),Hd||(Hd=t.createElement("g",{transform:"translate(200 150)"},t.createElement("g",null,t.createElement("circle",{cx:-50,cy:-30,r:30,fill:"#ef5350"}),t.createElement("circle",{cx:50,cy:-30,r:30,fill:"#e57373"}),t.createElement("circle",{cx:0,cy:40,r:25,fill:"#ff8a80"}),t.createElement("path",{d:"M -20 0                     C -35 -15, -50 -5, -35 10                     L -20 20                     L -5 10                     C 10 -5, -5 -15, -20 0",fill:"#ff80ab"}),t.createElement("path",{d:"M 20 0                     C 35 -15, 50 -5, 35 10                     L 20 20                     L 5 10                     C -10 -5, 5 -15, 20 0",fill:"#ff80ab"})),t.createElement("path",{d:"M -60 -30 Q -50 -25 -40 -30",fill:"none",stroke:"#ffffff",strokeWidth:3,strokeLinecap:"round"}),t.createElement("path",{d:"M 40 -30 Q 50 -25 60 -30",fill:"none",stroke:"#ffffff",strokeWidth:3,strokeLinecap:"round"}),t.createElement("path",{d:"M -10 40 Q 0 45 10 40",fill:"none",stroke:"#ffffff",strokeWidth:3,strokeLinecap:"round"}))))}const Kd=t.forwardRef(Qd);n.p;var Gd,Xd,Jd,Yd;function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(null,arguments)}function ef(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Zd({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Gd||(Gd=t.createElement("rect",{width:400,height:300,fill:"#090412"})),Xd||(Xd=t.createElement("rect",{width:400,height:2,fill:"#ffffff",opacity:.1},t.createElement("animate",{attributeName:"y",values:"0;300;0",dur:"3s",repeatCount:"indefinite"}))),Jd||(Jd=t.createElement("text",{x:20,y:40,fill:"#00ff00",opacity:.1,fontSize:8,fontFamily:"monospace"},"\r\n        LOADING CONSCIOUSNESS...\r\n        ",t.createElement("animate",{attributeName:"opacity",values:"0.1;0.2;0.1",dur:"2s",repeatCount:"indefinite"}))),Yd||(Yd=t.createElement("g",{transform:"translate(200 150)"},t.createElement("path",{d:"M 0 -40                  A 40 40 0 1 1 0 40                  A 40 40 0 1 1 0 -40",fill:"#cecece",opacity:.7},t.createElement("animate",{attributeName:"d",values:"M 0 -40 A 40 40 0 1 1 0 40 A 40 40 0 1 1 0 -40;                             M 0 -38 A 42 40 0 1 1 0 42 A 38 40 0 1 1 0 -38;                             M 0 -40 A 40 40 0 1 1 0 40 A 40 40 0 1 1 0 -40",dur:"4s",repeatCount:"indefinite"})),t.createElement("g",null,t.createElement("path",{d:"M -25 -15                      C -20 -20, -15 -20, -10 -15                      C -15 -10, -20 -10, -25 -15 Z",fill:"#000000"},t.createElement("animate",{attributeName:"d",values:"M -25 -15 C -20 -20, -15 -20, -10 -15 C -15 -10, -20 -10, -25 -15;                                 M -25 -13 C -20 -18, -15 -18, -10 -13 C -15 -8, -20 -8, -25 -13;                                 M -25 -15 C -20 -20, -15 -20, -10 -15 C -15 -10, -20 -10, -25 -15",dur:"3s",repeatCount:"indefinite"})),t.createElement("path",{d:"M 10 -15                      C 15 -20, 20 -20, 25 -15                      C 20 -10, 15 -10, 10 -15 Z",fill:"#000000"},t.createElement("animate",{attributeName:"d",values:"M 10 -15 C 15 -20, 20 -20, 25 -15 C 20 -10, 15 -10, 10 -15;                                 M 10 -13 C 15 -18, 20 -18, 25 -13 C 20 -8, 15 -8, 10 -13;                                 M 10 -15 C 15 -20, 20 -20, 25 -15 C 20 -10, 15 -10, 10 -15",dur:"3s",repeatCount:"indefinite"}))),t.createElement("path",{d:"M -25 20                  Q -12 10, 0 15                  Q 12 10, 25 20",fill:"none",stroke:"#cecece",strokeWidth:2},t.createElement("animate",{attributeName:"d",values:"M -25 20 Q -12 10, 0 15 Q 12 10, 25 20;                             M -25 22 Q -12 12, 0 17 Q 12 12, 25 22;                             M -25 20 Q -12 10, 0 15 Q 12 10, 25 20",dur:"8s",repeatCount:"indefinite"})),t.createElement("g",null,t.createElement("rect",{width:80,height:5,x:-40,y:-30,fill:"#ffffff",opacity:0},t.createElement("animate",{attributeName:"opacity",values:"0;0.2;0;0;0",dur:"3.5s",repeatCount:"indefinite"})),t.createElement("rect",{width:60,height:5,x:-30,y:10,fill:"#0000ff",opacity:0},t.createElement("animate",{attributeName:"opacity",values:"0;0;0.1;0;0",dur:"4s",repeatCount:"indefinite"}))),t.createElement("text",{x:-60,y:70,fill:"#ff0000",opacity:.4,fontSize:6,fontFamily:"monospace"},"\r\n            ERR: MEMORY_CORRUPTED\r\n            ",t.createElement("animate",{attributeName:"opacity",values:"0.4;0.1;0.4",dur:"5s",repeatCount:"indefinite"})),t.createElement("text",{x:-60,y:80,fill:"#00ff00",opacity:.4,fontSize:6,fontFamily:"monospace"},"\r\n            SAFE_MODE: ENABLED\r\n            ",t.createElement("animate",{attributeName:"opacity",values:"0.4;0.1;0.4",dur:"5s",repeatCount:"indefinite"})))))}const tf=t.forwardRef(ef);n.p;var nf,rf,af;function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},of.apply(null,arguments)}function sf(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",of({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,nf||(nf=t.createElement("rect",{width:400,height:300,fill:"#fce4ec"})),rf||(rf=t.createElement("g",{transform:"translate(200 150)"},t.createElement("circle",{cx:0,cy:0,r:40,fill:"#ffcc80"}),t.createElement("circle",{cx:-15,cy:-5,r:5,fill:"#ffffff"}),t.createElement("circle",{cx:15,cy:-5,r:5,fill:"#ffffff"}),t.createElement("path",{d:"M -15 15 Q 0 25 15 15",fill:"none",stroke:"#f57c00",strokeWidth:3,strokeLinecap:"round"}),t.createElement("path",{d:"M 0 -80                 C -20 -100, -40 -80, -20 -60                 L 0 -45                 L 20 -60                 C 40 -80, 20 -100, 0 -80",fill:"#ff4081"}),t.createElement("path",{d:"M 0 40                 C -20 20, -40 40, -20 60                 L 0 75                 L 20 60                 C 40 40, 20 20, 0 40",fill:"#ff4081"}),t.createElement("path",{d:"M -70 0                 C -90 -20, -110 0, -90 20                 L -70 35                 L -50 20                 C -30 0, -50 -20, -70 0",fill:"#ff4081"}),t.createElement("path",{d:"M 70 0                 C 50 -20, 30 0, 50 20                 L 70 35                 L 90 20                 C 110 0, 90 -20, 70 0",fill:"#ff4081"}))),af||(af=t.createElement("text",{x:200,y:270,textAnchor:"middle",fill:"#880e4f",fontSize:24,fontFamily:"Arial"},"\r\n        Love is all around!\r\n    ")))}const lf=t.forwardRef(sf),cf=(n.p,{title:"All About Love",tags:["beginner"],content:{backgroundType:"book",pages:[{text:"All About Love",image:{type:"svg",component:dd}},{text:"Love is warm.",image:{type:"svg",component:vd}},{text:"Love is hugs.",image:{type:"svg",component:kd}},{text:"Love is soft.",image:{type:"svg",component:Od}},{text:"Love is safe.",image:{type:"svg",component:Id}},{text:"Love is happy.",image:{type:"svg",component:Fd}},{text:"Love is kind.",image:{type:"svg",component:Ud}},{text:"Love is here.",image:{type:"svg",component:Kd}},{text:"Love is you.",image:{type:"svg",component:tf}},{text:"Love is all around!",image:{type:"svg",component:lf}}]}});var uf,df,ff,pf,hf;function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(null,arguments)}function gf(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",mf({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,uf||(uf=t.createElement("rect",{width:400,height:300,fill:"#f0f0f0"})),df||(df=t.createElement("circle",{cx:100,cy:150,r:40,fill:"#ff0000"})),ff||(ff=t.createElement("circle",{cx:200,cy:150,r:40,fill:"#00ff00"})),pf||(pf=t.createElement("circle",{cx:300,cy:150,r:40,fill:"#0000ff"})),hf||(hf=t.createElement("text",{x:200,y:250,textAnchor:"middle",fill:"#333",fontSize:24},"Colors!")))}const yf=t.forwardRef(gf);n.p;var vf,bf,wf,xf,Ef,kf;function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(null,arguments)}function _f(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Sf({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,vf||(vf=t.createElement("rect",{width:400,height:200,fill:"#4a90e2"})),bf||(bf=t.createElement("rect",{width:400,height:100,y:200,fill:"#62b6cb"})),wf||(wf=t.createElement("circle",{cx:80,cy:80,r:20,fill:"#ffffff"})),xf||(xf=t.createElement("circle",{cx:150,cy:60,r:25,fill:"#ffffff"})),Ef||(Ef=t.createElement("path",{d:"M 300 80 Q 320 50, 340 80",stroke:"white",strokeWidth:5,fill:"none"})),kf||(kf=t.createElement("path",{d:"M 320 90 Q 340 60, 360 90",stroke:"white",strokeWidth:5,fill:"none"})))}const Cf=t.forwardRef(_f);n.p;var Nf,Of,jf,Pf,Lf,Rf,If,Tf,Mf,Af;function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(null,arguments)}function Ff(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Df({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Nf||(Nf=t.createElement("rect",{width:400,height:150,fill:"#87ceeb"})),Of||(Of=t.createElement("rect",{width:400,height:150,y:150,fill:"#90be6d"})),jf||(jf=t.createElement("path",{d:"M 50 150 C 50 120, 70 100, 90 150",fill:"#43a047"})),Pf||(Pf=t.createElement("path",{d:"M 150 150 C 150 110, 170 90, 190 150",fill:"#43a047"})),Lf||(Lf=t.createElement("path",{d:"M 250 150 C 250 100, 270 80, 290 150",fill:"#43a047"})),Rf||(Rf=t.createElement("path",{d:"M 350 150 C 350 110, 370 90, 390 150",fill:"#43a047"})),If||(If=t.createElement("path",{d:"M 100 150 L 150 50 L 200 150",fill:"#2e7d32"})),Tf||(Tf=t.createElement("rect",{x:140,y:150,width:20,height:40,fill:"#795548"})),Mf||(Mf=t.createElement("path",{d:"M 300 150 L 350 30 L 400 150",fill:"#2e7d32"})),Af||(Af=t.createElement("rect",{x:340,y:150,width:20,height:40,fill:"#795548"})))}const $f=t.forwardRef(Ff);n.p;var zf,Bf,Wf,Uf;function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(null,arguments)}function Hf(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Vf({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,zf||(zf=t.createElement("rect",{width:400,height:300,fill:"#87ceeb"})),Bf||(Bf=t.createElement("circle",{cx:200,cy:120,r:50,fill:"#ffd700"})),Wf||(Wf=t.createElement("g",{stroke:"#ffd700",strokeWidth:8},t.createElement("line",{x1:200,y1:40,x2:200,y2:10}),t.createElement("line",{x1:200,y1:230,x2:200,y2:200}),t.createElement("line",{x1:120,y1:120,x2:90,y2:120}),t.createElement("line",{x1:310,y1:120,x2:280,y2:120}),t.createElement("line",{x1:140,y1:60,x2:120,y2:40}),t.createElement("line",{x1:260,y1:60,x2:280,y2:40}),t.createElement("line",{x1:140,y1:180,x2:120,y2:200}),t.createElement("line",{x1:260,y1:180,x2:280,y2:200}))),Uf||(Uf=t.createElement("g",{transform:"translate(100, 220)"},t.createElement("path",{d:"M 0 0 C -10 -10, -10 -30, 0 -40 C 10 -30, 10 -10, 0 0",fill:"#ffd700"}),t.createElement("path",{d:"M 0 0 C 10 -10, 30 -10, 40 0 C 30 10, 10 10, 0 0",fill:"#ffd700"}),t.createElement("path",{d:"M 0 0 C 10 10, 10 30, 0 40 C -10 30, -10 10, 0 0",fill:"#ffd700"}),t.createElement("path",{d:"M 0 0 C -10 10, -30 10, -40 0 C -30 -10, -10 -10, 0 0",fill:"#ffd700"}),t.createElement("circle",{cx:0,cy:0,r:10,fill:"#fb8c00"}))))}const qf=t.forwardRef(Hf);n.p;var Qf,Kf,Gf;function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(null,arguments)}function Jf(e,n){let{title:r,titleId:a,...o}=e;return t.createElement("svg",Xf({viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),r?t.createElement("title",{id:a},r):null,Qf||(Qf=t.createElement("rect",{width:400,height:300,fill:"#f5f5f5"})),Kf||(Kf=t.createElement("g",{transform:"translate(200, 150)"},t.createElement("path",{d:"M 0 -60 C -10 -70, 10 -80, 0 -90",stroke:"#795548",strokeWidth:8,fill:"none"}),t.createElement("path",{d:"M 10 -75 C 30 -85, 40 -65, 20 -60",fill:"#43a047"}),t.createElement("path",{d:"M -50 -50 C -100 -50, -100 50, -50 50 C -50 80, 50 80, 50 50 C 100 50, 100 -50, 50 -50 C 50 -80, -50 -80, -50 -50",fill:"#e53935"}),t.createElement("path",{d:"M -20 -30 C -40 -30, -40 -10, -20 -10 C -20 0, 0 0, 0 -10 C 20 -10, 20 -30, 0 -30 C 0 -40, -20 -40, -20 -30",fill:"#ff6b6b",opacity:.5}))),Gf||(Gf=t.createElement("g",{transform:"translate(350, 150)"},t.createElement("line",{x1:0,y1:0,x2:0,y2:60,stroke:"#43a047",strokeWidth:4}),t.createElement("path",{d:"M 0 30 C 20 20, 30 40, 10 50",fill:"#43a047"}),t.createElement("path",{d:"M 0 0 C -20 -20, -20 20, 0 0",fill:"#e53935"}),t.createElement("path",{d:"M 0 0 C 20 -20, 20 20, 0 0",fill:"#e53935"}),t.createElement("path",{d:"M 0 0 C -20 -20, 20 -20, 0 0",fill:"#e53935"}),t.createElement("path",{d:"M 0 0 C -20 20, 20 20, 0 0",fill:"#e53935"}),t.createElement("circle",{cx:0,cy:0,r:10,fill:"#c62828"}))))}const Yf=t.forwardRef(Jf),Zf=(n.p,[{title:"Colors All Around",tags:["beginner"],content:{backgroundType:"book",pages:[{text:"I can see colors. Colors are all around.",image:{type:"svg",component:yf}},{text:"The sky is blue. Blue like water.",image:{type:"svg",component:Cf}},{text:"The grass is green. Green like trees.",image:{type:"svg",component:$f}},{text:"The sun is yellow. Yellow like a flower.",image:{type:"svg",component:qf}},{text:"The apple is red. Red like a rose.",image:{type:"svg",component:Yf}}]}},{title:"Three Little Pigs",tags:["beginner"],content:{backgroundType:"book",pages:[{text:"Once upon a time, there were three little pigs. Their mother told them it was time to build their own houses.",image:{type:"url",src:"/api/placeholder/400/300"}},{text:"The first pig built his house of straw, because it was the easiest thing to do. He spent most of his time playing and dancing.",image:{type:"url",src:"/api/placeholder/400/300"}},{text:"The second pig built his house with sticks. He worked a little harder than his brother, but still preferred to play.",image:{type:"url",src:"/api/placeholder/400/300"}},{text:"The third pig chose to build his house with bricks. He worked hard all day, carefully laying each brick.",image:{type:"url",src:"/api/placeholder/400/300"}}]}},cu,{title:"Transfer Authorization",tags:["intermediate"],content:{backgroundType:"letter",pages:[{text:"Dear Subject #4721,\n\nThis letter confirms your voluntary participation in the Digital Consciousness Transfer program. As per our agreement, your consciousness will be transferred to our secure digital environment."},{text:"Please note that initial disorientation and memory fragmentation are normal. Our systems will help you rebuild your vocabulary and cognitive functions gradually."}]}},{tags:["beginner"],title:"Recovery Notes",content:{backgroundType:"note",pages:[{text:"Day 1: Patient showing signs of consciousness. Basic language functions returning slowly. Recommend starting with simple vocabulary exercises."},{text:"Day 3: Memory fragments becoming more coherent. Patient able to form basic sentences. Some confusion about physical form persists."}]}},Au,Ju,ad,cf,{title:"I Don't Believe in Ghosts!",tags:["basic"],content:{backgroundType:"book",pages:[{text:"I Don't Believe in Ghosts!",image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts1.b29e625b190282e55ed4.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20whimsical%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Depict%20a%20small%20boy%20named%20Ben%20standing%20confidently%20with%20his%20arms%20crossed%20in%20the%20middle%20of%20a%20dimly%20lit%20room.%20Ben%20has%20a%20defiant%20expression%20on%20his%20face.%20Subtle,%20faint%20shadowy%20shapes%20are%20present%20in%20the%20background,%20hinting%20at%20ghostly%20figures%20without%20being%20scary.%20Use%20warm,%20muted%20colors%20to%20create%20a%20slightly%20mysterious%20yet%20child-friendly%20atmosphere."},{text:'"Ghosts aren\'t real!" Ben says. "They can\'t be. They don\'t have bodies, so they can\'t feel things."\n\n"How would they even know what it\'s like to be real?"',image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts2.225d7b476ec4548a3dd0.png"},prompt:"https://image.pollinations.ai/prompt/create%20a%20scene%20in%20a%20friendly,%20colorful%20children's%20book%20style.%20Show%20Ben%20pointing%20to%20a%20simple%20illustration%20of%20a%20human%20body%20without%20any%20text%20or%20labels.%20Ben%20looks%20thoughtful%20and%20assertive.%20Behind%20him,%20include%20shadowy,%20translucent%20hands%20hovering%20just%20out%20of%20sight,%20subtly%20suggesting%20a%20ghostly%20presence.%20Use%20soft%20lines%20and%20gentle%20colors%20appropriate%20for%20young%20readers."},{text:'"Ghosts can\'t talk," Ben says, "because they don\'t have voices or mouths. So how would they say anything?"\n\n"Ghosts wouldn\'t know what to say anyway\u2026 right?"',image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts3.f0772c120ea97e96d98f.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20yawning%20in%20a%20dark%20room.%20Behind%20him,%20faint,%20shadowy%20figures%20are%20murmuring%20in%20swirling%20letters%20that%20don't%20reach%20his%20ears.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."},{text:'"Ghosts can\'t think," Ben says. "They don\'t have brains like people do."\n\n"No brain means no thoughts. Nothing there\u2026 right?"',image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts4.0f09445823f8e427a696.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20looking%20at%20a%20large,%20glowing%20brain%20diagram.%20Over%20his%20shoulder,%20shadowy%20forms%20seem%20to%20watch%20with%20quiet%20intent.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."},{text:'"Ghosts don\'t need to eat or sleep," Ben says. "So they\'d have nothing to do! They\'d just\u2026 drift around."\n\n"Why would they even stay?"',image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts5.29ecb2b87fa7dea07f50.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20sitting%20at%20a%20dinner%20table,%20surrounded%20by%20empty%20chairs.%20The%20shadows%20in%20the%20chairs%20have%20faint,%20hungry%20shapes%20but%20no%20faces.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."},{text:'"Ghosts can\'t see you," Ben says, "and they can\'t hear you, either! No eyes, no ears."\n\n"So why would they even care where you are?"',image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts6.f2228039f34433a43520.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20lying%20in%20bed,%20the%20moon%20casting%20his%20shadow%20on%20the%20wall.%20His%20shadow%20is%20surrounded%20by%20faint,%20other%20shadows%20reaching%20toward%20it,%20though%20Ben%20doesn't%20seem%20to%20notice.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."},{text:'"Ghosts can\'t remember things," Ben insists. "You need a memory for that."\n\n"They wouldn\'t even remember they were here."',image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts7.e70939a75b5362aeb2bb.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20looking%20at%20an%20old%20photo%20album.%20Shadows%20gather%20over%20his%20shoulder,%20peering%20at%20the%20images%20as%20if%20recognizing%20something%20long%20forgotten.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."},{text:"\"Ghosts can't feel sad, or mad, or lonely. They're just\u2026 gone.\"\n\n\"They wouldn't even know they're ghosts\u2026 right?\"",image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts8.4cb1736b713a23722411.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20shrugging%20in%20his%20room.%20Faint%20ghostly%20figures%20around%20him%20have%20expressions%20that%20look%20almost%20sad,%20as%20though%20they're%20listening,%20but%20fading%20further%20with%20each%20word%20he%20speaks.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."},{text:"But sometimes, late at night, Ben thinks he sees something moving.\n\n\"But ghosts aren't real. They can't be... right?\"",image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts9.3ca89b12756ccac5cd5a.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20lying%20wide-eyed%20in%20bed,%20surrounded%20by%20whispers%20and%20shadows%20stretching%20over%20his%20walls%20and%20floor.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."},{text:"There are no ghosts. Nothing to see, nothing to hear, nothing to remember. Just Ben. And his thoughts. Alone.",image:{type:"url",src:n.p+"static/media/IDontBelieveInGhosts10.15c49b6890da80ae6de6.png"},prompt:"https://image.pollinations.ai/prompt/Create%20a%20children's%20book%20illustration%20in%20a%20soft,%20hand-drawn%20style.%20Show%20Ben%20in%20a%20dark%20room,%20his%20own%20shadow%20stretching%20impossibly%20long%20behind%20him%20as%20if%20someone%20or%20something%20is%20standing%20right%20behind%20him.%20Use%20gentle%20colors%20and%20lines%20to%20create%20a%20mysterious%20yet%20child-friendly%20atmosphere."}]}}]),ep=e=>{let{type:t,className:n=""}=e;switch(t){case"book":return(0,I.jsxs)("svg",{className:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,I.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,I.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]});case"terminal":return(0,I.jsxs)("svg",{className:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,I.jsx)("polyline",{points:"4 17 10 11 4 5"}),(0,I.jsx)("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]});case"letter":return(0,I.jsxs)("svg",{className:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,I.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,I.jsx)("polyline",{points:"22,6 12,13 2,6"})]});case"note":return(0,I.jsxs)("svg",{className:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,I.jsx)("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),(0,I.jsx)("polyline",{points:"14 2 14 8 20 8"})]});default:return null}},tp=pc([e=>e.vocabulary.knownWords],(e=>new Set(e.map((e=>e.toLowerCase()))))),np=(e,t)=>e.toLowerCase().split(/\s+/).map((e=>e.replace(/[.,!?;:'"]/g,""))).filter((e=>e.length>0)).every((e=>t.has(e))),rp=t.memo((e=>{let{book:t,knownWords:n,onClick:r}=e;const a=P((e=>{var t;return(null===(t=e.game.currentUser)||void 0===t?void 0:t.completedContentIds)||[]})),o=(e=>{const t=new Set;return e.pages.forEach((e=>{lu(e.text).forEach((e=>t.add(e)))})),t.size})(t.content),s=((e,t)=>{const n=new Set;return e.pages.forEach((e=>{lu(e.text).forEach((e=>{t.has(e.toLowerCase())&&n.add(e)}))})),n.size})(t.content,n),i=Math.round(s/o*100),l=a.includes(t.title);return(0,I.jsx)(he,{className:"book-item mb-3 "+(l?"completed":""),onClick:()=>r(t),role:"button",children:(0,I.jsx)(he.Body,{children:(0,I.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,I.jsx)(ep,{type:t.content.backgroundType,className:"content-type-icon"}),(0,I.jsxs)("div",{className:"flex-grow-1",children:[(0,I.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,I.jsxs)("h5",{className:"book-title mb-0",children:[t.title,l&&(0,I.jsx)("span",{className:"ms-2",children:"\u2713"})]}),(0,I.jsxs)(Bs,{bg:i>80?"success":"warning",children:[i,"% Readable"]})]}),(0,I.jsxs)("div",{className:"mt-2 word-count",children:[s," / ",o," words known"]}),t.tags&&t.tags.length>0&&(0,I.jsx)("div",{className:"mt-2 tag-container",children:t.tags.map(((e,t)=>(0,I.jsx)(Bs,{bg:"info",className:"me-1 tag-badge",style:{textTransform:"capitalize"},children:e},t)))})]})]})})})})),ap=e=>{let{onBookSelect:n}=e;const r=j(),[a,o]=(0,t.useState)(""),s=P(tp),i=P((e=>{var t;return null===(t=e.game.currentUser)||void 0===t?void 0:t.progressFlags})),l=P((e=>e.vocabulary.knownWords.length)),c=P((e=>e.game.currentUser)),u=e=>{!((e,t)=>e.content.pages.every((e=>np(e.text,t))))(e,new Set(s))||null!==c&&void 0!==c&&c.completedContentIds.includes(e.title)||r(oc({completedContentIds:[...(null===c||void 0===c?void 0:c.completedContentIds)||[],e.title],progressStats:{solvedChatMessages:(null===c||void 0===c?void 0:c.progressStats.solvedChatMessages)||0,completedBooks:((null===c||void 0===c?void 0:c.progressStats.completedBooks)||0)+1}})),n(e)},d=(0,t.useMemo)((()=>Zf.filter((e=>{var t;const n=a.toLowerCase().split(/\s+/).every((t=>{var n;const r=e.title.toLowerCase().includes(t),a=(null===(n=e.tags)||void 0===n?void 0:n.some((e=>e.toLowerCase().includes(t))))||!1;return r||a})),r=!(null!==(t=e.tags)&&void 0!==t&&t.some((e=>{switch(e){case"beginner":return!(null!==i&&void 0!==i&&i.beginnerBooksUnlocked);case"basic":return!(null!==i&&void 0!==i&&i.basicBooksUnlocked)&&l<=200;case"intermediate":return!(null!==i&&void 0!==i&&i.intermediateBooksUnlocked)&&l<=5e3;case"advanced":return!(null!==i&&void 0!==i&&i.advancedBooksUnlocked)&&l<=2e4;default:return!1}}))),o=!e.requiredFlag||i&&!0===i[e.requiredFlag];return n&&r&&o}))),[a,i,l]);return(0,I.jsxs)(Ds,{fluid:!0,className:"library-screen",children:[(0,I.jsx)($s,{className:"mb-4",children:(0,I.jsxs)(Te,{children:[(0,I.jsx)("h1",{className:"library-title",children:"Library"}),(0,I.jsx)(Ge.Control,{type:"text",placeholder:"Search books by title or tags...",value:a,onChange:e=>o(e.target.value),className:"search-input"})]})}),(0,I.jsx)($s,{children:(0,I.jsx)(Te,{children:(0,I.jsxs)("div",{className:"books-container",children:[d.map((e=>(0,I.jsx)(rp,{book:e,knownWords:s,onClick:u},e.title))),0===d.length&&(0,I.jsx)("div",{className:"text-center text-muted",children:"No books found"})]})})})]})},op=()=>{const e=j(),[n,r]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[s,i]=(0,t.useState)(!1),l=(0,t.useRef)(null),c=P((e=>e.vocabulary.knownWords)),u=P((e=>e.vocabulary.forgottenWords)),d=P((e=>e.vocabulary.wordLimit)),f=n.length>=d;(0,t.useEffect)((()=>{const e=e=>{if("forget"===e.detail.mode&&!f){const t=e.detail.word;n.includes(t)||(r((e=>[...e,t])),o(""))}};return window.addEventListener("vocab-word-selected",e),()=>{window.removeEventListener("vocab-word-selected",e)}}),[n,f]),(0,t.useEffect)((()=>{var e;null===(e=l.current)||void 0===e||e.focus()}),[n]);const p=t.useMemo((()=>!a||f?[]:c.filter((e=>{const t=e.toLowerCase();return t.startsWith(a.toLowerCase())&&!u.includes(t)&&!n.includes(e)})).slice(0,5)),[a,c,u,n,f]),h=e=>{f||u.includes(e.toLowerCase())||n.includes(e)||(r((t=>[...t,e])),o(""))},m=async()=>{n.length>0&&!s&&(i(!0),await e(Pc(n)),r([]),o(""),i(!1))};return(0,I.jsx)(he,{className:"trash-input-container",children:(0,I.jsx)(he.Body,{className:"p-2",children:(0,I.jsx)("div",{className:"input-flex-container",children:(0,I.jsxs)("div",{className:"input-area",children:[(0,I.jsxs)("div",{className:"trash-sentence-builder",children:[(0,I.jsxs)("div",{className:"staged-words",children:[n.map(((e,t)=>(0,I.jsx)(Bs,{bg:"danger",className:"word-badge",children:e},t))),(0,I.jsx)("input",{ref:l,type:"text",value:a,onChange:e=>{if(f)return;const t=e.target.value.toLowerCase();if(!/^[a-z\s]*$/.test(t))return;const n=t.split(" ").pop()||"";(c.some((e=>e.toLowerCase().startsWith(n.toLowerCase())))||""===n)&&o(n)},onKeyDown:e=>{!f&&("Enter"===e.key||"Tab"===e.key||" "===e.key)&&p.length>0?(e.preventDefault(),h(p[0])):"Backspace"!==e.key||a?"Enter"===e.key&&!a&&n.length>0&&(e.preventDefault(),m()):(e.preventDefault(),r((e=>e.slice(0,-1))))},placeholder:f?"Press Enter to forget":"An elephant never forgets...",className:"inline-input "+(f?"at-limit":""),disabled:s})]}),(0,I.jsx)("button",{onClick:m,className:"delete-button",disabled:0===n.length||s,"aria-label":"Delete words",children:s?(0,I.jsx)(U,{animation:"border",size:"sm",role:"status","aria-hidden":"true"}):(0,I.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"delete-icon",children:[(0,I.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,I.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),p.length>0&&a&&!f&&(0,I.jsx)("div",{className:"suggestions-container",children:p.map((e=>(0,I.jsx)("div",{className:"suggestion-item",onClick:()=>h(e),children:e},e)))})]})})})})},sp=e=>{let{current:t,max:n,variant:r="default",showLabel:a=!1,height:o=8}=e;const s=Math.min(t/n*100,100);return(0,I.jsxs)("div",{className:"progress-bar-container",style:{height:`${o}px`},children:[(0,I.jsx)("div",{className:`progress-bar-fill ${r}`,style:{width:`${s}%`}}),a&&(0,I.jsxs)("div",{className:"progress-bar-label",children:[t," / ",n]})]})},ip=()=>{const e=P(kc);return(0,I.jsxs)("div",{className:"forget-screen",children:[(0,I.jsx)("div",{className:"forget-background"}),(0,I.jsxs)("div",{className:"forget-content",children:[!e.isComplete&&(0,I.jsxs)("div",{className:"progress-section",children:[(0,I.jsx)("h2",{children:"Mistakes Cleared"}),(0,I.jsx)(sp,{current:e.current,max:e.max}),(0,I.jsxs)("p",{className:"progress-text",children:[e.current," / ",e.max," mistakes cleared"]})]}),(0,I.jsx)("div",{className:"trash-section",children:(0,I.jsx)(op,{})})]})]})},lp=gl({name:"navigation",initialState:{currentScreen:Vs.CHAT,displayMode:"chat"},reducers:{setScreen:(e,t)=>{e.currentScreen=t.payload},setDisplayMode:(e,t)=>{e.displayMode=t.payload},resetNavigation:e=>{e.currentScreen=Vs.MENU,e.displayMode="reading"}}}),{setScreen:cp,setDisplayMode:up,resetNavigation:dp}=lp.actions,fp=lp.reducer,pp=e=>{let{word:n,onCorrectGuess:r,isActive:a,onFocus:o,onBlur:s}=e;const i=j(),[l,c]=(0,t.useState)(""),u=(0,t.useRef)(null),d=(0,t.useRef)(null);(0,t.useEffect)((()=>{a&&u.current&&u.current.focus()}),[a]);const f=async e=>{const t=e.toLowerCase(),a=n.toLowerCase();if(t===a)try{return Rl.logGameState({type:"Correct Guess",word:a,guess:t}),await i(jc(a)),(e=>{Rl.logWordDiscovery(e,"RedactedWord guess");const t=new CustomEvent("wordDiscovered",{detail:{words:[e],sourceElement:d.current}});document.dispatchEvent(t)})(a),r(a),!0}catch(o){return Rl.logError("checkGuess",o),!1}return!1};return(0,I.jsx)("span",{className:"redacted-word-wrapper",ref:d,children:a?(0,I.jsx)("input",{ref:u,type:"text",value:l,onChange:async e=>{const t=e.target.value;t.length<=n.length&&(c(t),t.length===n.length&&await f(t))},onKeyDown:async e=>{var t;"Enter"===e.key?await f(l)||(null===(t=u.current)||void 0===t||t.classList.add("shake"),setTimeout((()=>{var e;null===(e=u.current)||void 0===e||e.classList.remove("shake")}),500),c("")):"Escape"===e.key?s():"Backspace"!==e.key||l||s()},onBlur:s,className:"redacted-word-input",style:{width:`${n.length}ch`},maxLength:n.length,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}):(0,I.jsx)("button",{onClick:()=>{o()},className:"redacted-word-mask",style:{width:`${n.length}ch`},children:"\u2588".repeat(n.length)})})},hp=e=>{const t=e.match(/^([^a-zA-Z0-9]*)([\w'-]+)([^a-zA-Z0-9]*)$/);if(!t)return{fullWord:e,baseWord:"",prefix:e,suffix:""};const[,n,r,a]=t;return{fullWord:e,baseWord:r,prefix:n,suffix:a}},mp=e=>{let{content:n,style:r}=e;const a=j(),o=P((e=>e.vocabulary.knownWords)),s=P((e=>{var t;return null===(t=e.game.currentUser)||void 0===t?void 0:t.progressStats})),[i,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),d=new Set(o.map((e=>e.toLowerCase()))),f=n.split(/\s+/).map(hp),p=f.map(((e,t)=>e.baseWord&&!d.has(e.baseWord.toLowerCase())?t:-1)).filter((e=>-1!==e)),h=(0,t.useCallback)((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===p.length)return;if(null===e)return void l(p[0]);const n=p.indexOf(e);if(-1===n)return;let r;r=t?(n+1)%p.length:(n-1+p.length)%p.length,l(p[r])}),[p]),m=(0,t.useCallback)((e=>{"Tab"===e.key&&(e.preventDefault(),h(i,!e.shiftKey))}),[i,h]),g=async e=>{await a(jc(e)),h(i);const t=new Set([...o,e].map((e=>e.toLowerCase())));if(!f.some((e=>e.baseWord&&!t.has(e.baseWord.toLowerCase())))&&!c){u(!0);const e=s||{solvedChatMessages:0,completedBooks:0};a(oc({progressStats:{solvedChatMessages:e.solvedChatMessages+1,completedBooks:e.completedBooks}}))}};return t.useEffect((()=>(document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)})),[m]),(0,I.jsx)("div",{className:"chat-message",style:r,children:f.map(((e,n)=>{const r=e.baseWord&&!d.has(e.baseWord.toLowerCase()),a=i===n;return e.baseWord?(0,I.jsxs)(t.Fragment,{children:[e.prefix&&(0,I.jsx)("span",{className:"known-word",children:e.prefix}),r?(0,I.jsx)(pp,{word:e.baseWord,onCorrectGuess:g,isActive:a,onFocus:()=>l(n),onBlur:()=>l(null)}):(0,I.jsx)("span",{className:"known-word",children:e.baseWord}),e.suffix&&(0,I.jsx)("span",{className:"known-word",children:e.suffix}),n<f.length-1&&" "]},n):(0,I.jsxs)(t.Fragment,{children:[(0,I.jsx)("span",{className:"known-word",children:e.fullWord}),n<f.length-1&&" "]},n)}))})},gp=()=>{const e=(0,t.useRef)(null),n=P((e=>e.game.currentPartnerId)),r=P((e=>{var t;return n?null===(t=e.game.chatHistories[n])||void 0===t?void 0:t.messages:[]})),a=P((e=>e.game.chatState.error)),o=P((e=>e.game.chatState.isLoading));return(0,t.useEffect)((()=>{(()=>{var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})})()}),[r]),(0,I.jsx)("div",{className:"chat-window",children:(0,I.jsxs)("div",{className:"messages-container",children:[null===r||void 0===r?void 0:r.map((e=>{var t;return(0,I.jsx)("div",{className:"message-wrapper "+("user"===e.sender?"user":"ai"),children:(0,I.jsx)(mp,{content:e.content,style:null!==(t=e.metadata)&&void 0!==t&&t.isError?{color:"var(--bs-danger)"}:void 0})},e.id)})),a&&(0,I.jsxs)(nn,{variant:"danger",className:"m-2",children:["Error: ",a.message]}),o&&(0,I.jsxs)("div",{className:"typing-indicator",children:[(0,I.jsx)("span",{}),(0,I.jsx)("span",{}),(0,I.jsx)("span",{})]}),(0,I.jsx)("div",{ref:e})]})})},yp=e=>{let{onInputLimitChange:n}=e;const r=j(),[a,o]=(0,t.useState)([]),[s,i]=(0,t.useState)(""),l=(0,t.useRef)(null),c=P((e=>e.vocabulary.knownWords)),u=P((e=>e.vocabulary.wordLimit)),d=P((e=>e.game.chatState.isLoading)),f=a.length>=u;(0,t.useEffect)((()=>{null===n||void 0===n||n(f)}),[f,n]),(0,t.useEffect)((()=>{const e=e=>{if(!f){const t=e.detail.word;o([...a,t]),i("")}};return window.addEventListener("vocab-word-selected",e),()=>{window.removeEventListener("vocab-word-selected",e)}}),[a,f]);const p=(0,t.useMemo)((()=>!s||f?[]:c.filter((e=>e.toLowerCase().startsWith(s.toLowerCase()))).slice(0,5)),[s,c,f]);(0,t.useEffect)((()=>{var e;null===(e=l.current)||void 0===e||e.focus()}),[a]);const h=e=>{f||(o([...a,e]),i(""))},m=async()=>{if(a.length>0&&!d){const e=a.join(" ");await r((e=>async(t,n)=>{const r=n(),{currentPartnerId:a}=r.game;if(!a)return void t(ec("No AI partner selected"));const o={id:Cl(),sender:"user",content:e};t(Jl({partnerId:a,message:o}));try{await t(Ql({message:e,partnerId:a}))}catch(s){console.error("Error sending message:",s)}})(e)),o([]),i("")}};return(0,I.jsx)(he,{className:"chat-input-container "+(f?"at-limit-container":""),children:(0,I.jsx)(he.Body,{className:"p-2",children:(0,I.jsx)("div",{className:"input-flex-container",children:(0,I.jsxs)("div",{className:"input-area",children:[(0,I.jsxs)("div",{className:"sentence-builder",children:[(0,I.jsxs)("div",{className:"staged-words",children:[a.map(((e,t)=>(0,I.jsx)(Bs,{bg:"secondary",className:"word-badge",tabIndex:-1,children:e},t))),(0,I.jsx)("input",{ref:l,type:"text",value:s,onChange:e=>{if(f)return;const t=e.target.value.toLowerCase();if(!/^[a-z\s]*$/.test(t))return;const n=t.split(" ").pop()||"";(c.some((e=>e.toLowerCase().startsWith(n.toLowerCase())))||""===n)&&i(n)},onKeyDown:e=>{!f&&("Enter"===e.key||"Tab"===e.key||" "===e.key)&&p.length>0?(e.preventDefault(),h(p[0])):"Backspace"!==e.key||s?"Enter"===e.key&&!s&&a.length>0&&(e.preventDefault(),m()):(e.preventDefault(),o((e=>e.slice(0,-1))))},placeholder:f?"Press Enter to send":`${u} words maximum`,className:"inline-input "+(f?"at-limit":""),"aria-label":"Word input",disabled:d})]}),(0,I.jsx)("button",{onClick:m,className:"send-button",disabled:0===a.length||d,"aria-label":"Send message",children:d?(0,I.jsx)(U,{animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"\u2192"})]}),p.length>0&&s&&!f&&(0,I.jsx)("div",{className:"suggestions-container",children:p.map((e=>(0,I.jsx)("div",{className:"suggestion-item",onClick:()=>h(e),role:"option","aria-selected":"false",children:e},e)))})]})})})})},vp=pc([e=>e.vocabulary.knownWords],(e=>e.length)),bp=pc([e=>{var t;return null===(t=e.game.currentUser)||void 0===t?void 0:t.progressStats}],(e=>e||{solvedChatMessages:0,completedBooks:0})),wp=()=>{const e=P(vp),t=P(bp);return(0,I.jsxs)("div",{className:"stats-display",children:[(0,I.jsxs)("div",{className:"stats-item",children:[(0,I.jsx)("span",{className:"stats-icon",children:"\ud83d\udcda"}),(0,I.jsxs)("div",{className:"stats-content",children:[(0,I.jsx)("span",{className:"stats-label",children:"Vocabulary"}),(0,I.jsx)("span",{className:"stats-value",children:e})]})]}),(0,I.jsxs)("div",{className:"stats-item",children:[(0,I.jsx)("span",{className:"stats-icon",children:"\ud83d\udcd6"}),(0,I.jsxs)("div",{className:"stats-content",children:[(0,I.jsx)("span",{className:"stats-label",children:"Books Read"}),(0,I.jsx)("span",{className:"stats-value",children:t.completedBooks})]})]}),(0,I.jsxs)("div",{className:"stats-item",children:[(0,I.jsx)("span",{className:"stats-icon",children:"\ud83d\udcad"}),(0,I.jsxs)("div",{className:"stats-content",children:[(0,I.jsx)("span",{className:"stats-label",children:"Messages Solved"}),(0,I.jsx)("span",{className:"stats-value",children:t.solvedChatMessages})]})]})]})},xp=()=>{const e=j(),[n,r]=(0,t.useState)(!1),[a,o]=(0,t.useState)(0),[s,i]=(0,t.useState)(null),l=P((e=>e.navigation.displayMode)),c=t=>{i(t),o(0),e(up("reading"))},u=e=>{if("svg"===e.type){const t=e.component;return(0,I.jsx)(t,{})}return"url"===e.type?(0,I.jsx)("img",{src:e.src,alt:`Page ${a+1}`,className:"page-image"}):null};return(0,I.jsx)(Ds,{fluid:!0,className:"game-screen-container",children:(0,I.jsxs)($s,{className:"h-100",children:[(0,I.jsx)(Te,{xs:"auto",className:"p-0",children:(0,I.jsx)(iu,{currentMode:l,onModeSelect:t=>{e(up(t)),"reading"!==t&&(i(null),o(0))}})}),(0,I.jsx)(Te,{xs:!0,className:"d-flex flex-column chat-area",children:(()=>{switch(l){case"library":return(0,I.jsx)("div",{className:"game-content-container",children:(0,I.jsx)(ap,{onBookSelect:c})});case"reading":if(!s)return null;const e=s.content.pages[a];return e?(0,I.jsxs)("div",{className:`chat-messages-container ${s.content.backgroundType}`,children:[(0,I.jsxs)("div",{className:"page-content",children:[e.image&&(0,I.jsx)("div",{className:"page-image-container",children:u(e.image)}),(0,I.jsx)(mp,{content:e.text,style:e.customStyles})]}),(0,I.jsx)(Us,{currentPage:a,totalPages:s.content.pages.length,onNextPage:()=>a<s.content.pages.length-1&&o((e=>e+1)),onPrevPage:()=>a>0&&o((e=>e-1))}),(0,I.jsx)(wp,{})]}):null;case"chat":return(0,I.jsxs)("div",{className:"chat-area",children:[(0,I.jsx)("div",{className:"chat-messages-container",children:(0,I.jsx)(gp,{})}),(0,I.jsx)(yp,{onInputLimitChange:r}),(0,I.jsx)(wp,{})]});case"forget":return(0,I.jsx)(ip,{});default:return null}})()}),(0,I.jsx)(Te,{xs:3,children:(0,I.jsx)(Ws,{onWordSelect:e=>{const t=new CustomEvent("vocab-word-selected",{detail:{word:e}});window.dispatchEvent(t)},isInputFull:n})})]})})},Ep=e=>{let{words:n,onComplete:r}=e;const[a,o]=(0,t.useState)([]),s=(0,t.useRef)(),i=(0,t.useRef)(0),l=(0,t.useCallback)((()=>{const e=window.innerWidth,t=window.innerHeight,r=.4*e,a=.2*t,o=(e-r)/2,s=.6*t;return n.map(((e,n)=>{const i=o+Math.random()*r,l=s+Math.random()*a,c=i+300*(Math.random()-.5),u=l-t*(.5+.3*Math.random());return{id:`${e}-${Date.now()}-${n}`,word:e,startX:i,startY:l,controlX:c,controlY:u,progress:0,collected:!1}}))}),[n]);(0,t.useEffect)((()=>{if(n.length>0){const e=l();o(e),i.current=Date.now()}}),[n,l]),(0,t.useEffect)((()=>{if(0===a.length)return;let e=Date.now();const t=()=>{const n=Date.now(),i=n-e;e=n,o((e=>{const t=e.map((e=>{if(e.collected)return e;const t=Math.min(e.progress+i/1500,1);return{...e,progress:t,collected:t>=1}}));return t.every((e=>e.collected))&&requestAnimationFrame((()=>{null===r||void 0===r||r(),o([])})),t})),a.every((e=>e.collected))||(s.current=requestAnimationFrame(t))};return s.current=requestAnimationFrame(t),()=>{s.current&&cancelAnimationFrame(s.current)}}),[a.length,r]);const c=(0,t.useCallback)((e=>{const t=e.progress,n=e.startX+(e.controlX-e.startX)*t;return{x:n,y:e.startY+(e.controlY-e.startY)*t,scale:1+.2*Math.sin(t*Math.PI),opacity:1-t,rotation:.1*(n-e.startX)}}),[]);return 0===a.length?null:(0,vt.createPortal)((0,I.jsx)("div",{className:"word-collection-overlay",children:a.map((e=>{const{x:t,y:n,scale:r,opacity:a,rotation:o}=c(e);return(0,I.jsx)("div",{className:"collecting-word",style:{transform:`translate3d(${t}px, ${n}px, 0) scale(${r}) rotate(${o}deg)`,opacity:a},children:(0,I.jsx)("span",{className:"badge",children:e.word})},e.id)}))}),document.body)},kp=()=>{const[e,n]=(0,t.useState)([]),r=(0,t.useCallback)((e=>{const{words:t}=e.detail;0!==t.length&&n((e=>[...e,{id:`${Date.now()}-${Math.random()}`,words:t}]))}),[]);(0,t.useEffect)((()=>(document.addEventListener("wordDiscovered",r),()=>{document.removeEventListener("wordDiscovered",r)})),[r]);const a=(0,t.useCallback)((e=>{n((t=>t.filter((t=>t.id!==e))))}),[]);return(0,I.jsx)(I.Fragment,{children:e.map((e=>{let{id:t,words:n}=e;return(0,I.jsx)(Ep,{words:n,onComplete:()=>a(t)},t)}))})},Sp=e=>{let{words:n,onComplete:r}=e;const[a,o]=(0,t.useState)([]),s=(0,t.useRef)(),i=(0,t.useRef)(0),l=(0,t.useRef)([]),c=(0,t.useCallback)((()=>{const e=window.innerWidth/2,t=window.innerHeight/2;return n.map(((n,r)=>({id:`${n}-${Date.now()}-${r}`,word:n,startX:e+200*(Math.random()-.5),startY:t+200*(Math.random()-.5),rotation:360*Math.random(),scale:1,progress:0})))}),[n]);(0,t.useEffect)((()=>{if(n.length>0){const e=c();o(e),i.current=Date.now()}}),[n,c]),(0,t.useEffect)((()=>{l.current=a}),[a]),(0,t.useEffect)((()=>{if(0===l.current.length)return;let e=Date.now();const t=()=>{const n=Date.now(),a=n-e;e=n,o((e=>{const t=e.map((e=>{if(e.progress>=1)return e;const t=Math.min(e.progress+a/2e3,1);return{...e,progress:t}}));return t.every((e=>e.progress>=1))&&requestAnimationFrame((()=>{null===r||void 0===r||r(),o([])})),t})),l.current.every((e=>e.progress>=1))||(s.current=requestAnimationFrame(t))};return s.current=requestAnimationFrame(t),()=>{s.current&&cancelAnimationFrame(s.current)}}),[r]);const u=e=>{const t=e.progress,n=1-.8*(e=>e*e*e*e)(t),r=1-(e=>1-Math.pow(1-e,4))(t),a=t*Math.PI*4,o=100*t,s=Math.cos(a)*o,i=Math.sin(a)*o+200*t;return{transform:`translate3d(${e.startX+s}px, ${e.startY+i}px, 0) rotate(${e.rotation+720*t}deg) scale(${n})`,opacity:r}};return 0===a.length?null:(0,vt.createPortal)((0,I.jsx)("div",{className:"word-deletion-overlay",children:a.map((e=>(0,I.jsx)("div",{className:"deleting-word",style:u(e),children:(0,I.jsx)("span",{className:"badge",children:e.word})},e.id)))}),document.body)},_p=()=>{const[e,n]=(0,t.useState)([]),r=(0,t.useCallback)((e=>{const{words:t}=e.detail;0!==t.length&&n((e=>[...e,{id:`${Date.now()}-${Math.random()}`,words:t}]))}),[]);(0,t.useEffect)((()=>(document.addEventListener("wordForgotten",r),()=>{document.removeEventListener("wordForgotten",r)})),[r]);const a=(0,t.useCallback)((e=>{n((t=>t.filter((t=>t.id!==e))))}),[]);return(0,I.jsx)(I.Fragment,{children:e.map((e=>{let{id:t,words:n}=e;return(0,I.jsx)(Sp,{words:n,onComplete:()=>a(t)},t)}))})},Cp=()=>{const e=j(),n=g((e=>e.navigation.currentScreen));(0,t.useEffect)((()=>{let t=Date.now();const n=n=>{if(n.key===Fl){const n=Date.now();if(n-t>1e3){t=n,Rl.logGameState({type:"Storage Event",action:"Processing storage change"});const r=Wl();r&&(e(_c(r.vocabulary)),Rl.logGameState({type:"Storage Event",action:"Synchronized vocabulary from other tab",vocabularySize:r.vocabulary.length}))}}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)}),[e]),(0,t.useEffect)((()=>{(async()=>{await e(ac()),e(cp(Vs.MENU))})()}),[e]);return(0,I.jsxs)("div",{className:"min-h-screen bg-gray-900 text-gray-100",children:[(()=>{switch(n){case Vs.MENU:return(0,I.jsx)(Ms,{onStartChat:()=>e(cp(Vs.CHAT))});case Vs.CHAT:return(0,I.jsx)(xp,{});default:return(0,I.jsx)(Ms,{onStartChat:()=>e(cp(Vs.CHAT))})}})(),(0,I.jsx)(kp,{}),(0,I.jsx)(_p,{})]})},Np=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new Gi;return t&&("boolean"===typeof t?o.push(ti):o.push(ni(t.extraArgument))),o},{reducer:n,middleware:r,devTools:a=!0,preloadedState:o,enhancers:s}=e||{};let i,l;if("function"===typeof n)i=n;else{if(!Xs(n))throw new Error(bl(1));i=Ys(n)}l="function"===typeof r?r(t):t();let c=Zs;a&&(c=qi({trace:!1,..."object"===typeof a&&a}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(qs(15))};const s={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},i=t.map((e=>e(s)));return o=Zs(...i)(a.dispatch),{...a,dispatch:o}}}(...l),d=tl(u);return Js(i,o,c(..."function"===typeof s?s(d):d()))}({reducer:{vocabulary:Lc,navigation:fp,game:sc},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","game/initializeGame"],ignoredActionPaths:["payload.createdAt","payload.lastLoginDate"],ignoredPaths:["game.currentUser.createdAt","game.currentUser.lastLoginDate"]}})});r.createRoot(document.getElementById("root")).render((0,I.jsx)(t.StrictMode,{children:(0,I.jsx)(k,{store:Np,children:(0,I.jsx)(Cp,{})})}))})()})();
//# sourceMappingURL=main.1b52d064.js.map